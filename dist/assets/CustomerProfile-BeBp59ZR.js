import{R as w,j as xe,z as M,k,m as he,K as ce,t as H,h as Ae,aj as Ee,ak as V,y as Re,U as Be,w as Te,d as _e,r as m,H as W,A as ye,C as ve,E as _,al as Me,D as Ce,F as Ie,am as De,N as ke,L as ze,an as Le,ao as te,ap as Ke,a0 as de,aq as He,I as Fe,ar as Xe,u as Ge,p as o,S as Qe,B as me}from"./index-DO2xjt6F.js";import{i as Q}from"./axios-0yhrvgHk.js";import{T as ne}from"./index-c71wm61D.js";import{R as Ue,E as ee}from"./index-Dr8C4fpI.js";import{p as oe}from"./TextArea-BGWnTIhk.js";import{C as Ve,T as je}from"./index-BqrCpxkO.js";import{D as E}from"./index-BCkK2zsg.js";import{F as ue}from"./Table-ytN7lPLD.js";import{L as F}from"./index-B6-Yjovu.js";import"./index-xsH4HHeE.js";import"./PlusOutlined-CozxblFd.js";import"./index-Cx609xem.js";import"./extendsObject-78o_rR5W.js";import"./row-CodefCjq.js";var $e=w.forwardRef(function(e,t){var n=e.prefixCls,r=e.forceRender,s=e.className,i=e.style,c=e.children,p=e.isActive,b=e.role,v=e.classNames,I=e.styles,h=w.useState(p||r),C=xe(h,2),f=C[0],g=C[1];return w.useEffect(function(){(r||p)&&g(!0)},[r,p]),f?w.createElement("div",{ref:t,className:M("".concat(n,"-content"),k(k({},"".concat(n,"-content-active"),p),"".concat(n,"-content-inactive"),!p),s),style:i,role:b},w.createElement("div",{className:M("".concat(n,"-content-box"),v==null?void 0:v.body),style:I==null?void 0:I.body},c)):null});$e.displayName="PanelContent";var We=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Ne=w.forwardRef(function(e,t){var n=e.showArrow,r=n===void 0?!0:n,s=e.headerClass,i=e.isActive,c=e.onItemClick,p=e.forceRender,b=e.className,v=e.classNames,I=v===void 0?{}:v,h=e.styles,C=h===void 0?{}:h,f=e.prefixCls,g=e.collapsible,y=e.accordion,a=e.panelKey,l=e.extra,u=e.header,x=e.expandIcon,d=e.openMotion,O=e.destroyInactivePanel,$=e.children,R=he(e,We),j=g==="disabled",S=l!=null&&typeof l!="boolean",N=k(k(k({onClick:function(){c==null||c(a)},onKeyDown:function(T){(T.key==="Enter"||T.keyCode===ce.ENTER||T.which===ce.ENTER)&&(c==null||c(a))},role:y?"tab":"button"},"aria-expanded",i),"aria-disabled",j),"tabIndex",j?-1:0),B=typeof x=="function"?x(e):w.createElement("i",{className:"arrow"}),z=B&&w.createElement("div",H({className:"".concat(f,"-expand-icon")},["header","icon"].includes(g)?N:{}),B),L=M("".concat(f,"-item"),k(k({},"".concat(f,"-item-active"),i),"".concat(f,"-item-disabled"),j),b),X=M(s,"".concat(f,"-header"),k({},"".concat(f,"-collapsible-").concat(g),!!g),I.header),A=Ae({className:X,style:C.header},["header","icon"].includes(g)?{}:N);return w.createElement("div",H({},R,{ref:t,className:L}),w.createElement("div",A,r&&z,w.createElement("span",H({className:"".concat(f,"-header-text")},g==="header"?N:{}),u),S&&w.createElement("div",{className:"".concat(f,"-extra")},l)),w.createElement(Ee,H({visible:i,leavedClassName:"".concat(f,"-content-hidden")},d,{forceRender:p,removeOnLeave:O}),function(P,T){var K=P.className,D=P.style;return w.createElement($e,{ref:T,prefixCls:f,className:K,classNames:I,style:D,styles:C,isActive:i,forceRender:p,role:y?"tabpanel":void 0},$)}))}),Je=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],Ye=function(t,n){var r=n.prefixCls,s=n.accordion,i=n.collapsible,c=n.destroyInactivePanel,p=n.onItemClick,b=n.activeKey,v=n.openMotion,I=n.expandIcon;return t.map(function(h,C){var f=h.children,g=h.label,y=h.key,a=h.collapsible,l=h.onItemClick,u=h.destroyInactivePanel,x=he(h,Je),d=String(y??C),O=a??i,$=u??c,R=function(N){O!=="disabled"&&(p(N),l==null||l(N))},j=!1;return s?j=b[0]===d:j=b.indexOf(d)>-1,w.createElement(Ne,H({},x,{prefixCls:r,key:d,panelKey:d,isActive:j,accordion:s,openMotion:v,expandIcon:I,header:g,collapsible:O,onItemClick:R,destroyInactivePanel:$}),f)})},Ze=function(t,n,r){if(!t)return null;var s=r.prefixCls,i=r.accordion,c=r.collapsible,p=r.destroyInactivePanel,b=r.onItemClick,v=r.activeKey,I=r.openMotion,h=r.expandIcon,C=t.key||String(n),f=t.props,g=f.header,y=f.headerClass,a=f.destroyInactivePanel,l=f.collapsible,u=f.onItemClick,x=!1;i?x=v[0]===C:x=v.indexOf(C)>-1;var d=l??c,O=function(j){d!=="disabled"&&(b(j),u==null||u(j))},$={key:C,panelKey:C,header:g,headerClass:y,isActive:x,prefixCls:s,destroyInactivePanel:a??p,openMotion:I,accordion:i,children:t.props.children,onItemClick:O,expandIcon:h,collapsible:d};return typeof t.type=="string"?t:(Object.keys($).forEach(function(R){typeof $[R]>"u"&&delete $[R]}),w.cloneElement(t,$))};function qe(e,t,n){return Array.isArray(e)?Ye(e,n):V(t).map(function(r,s){return Ze(r,s,n)})}function et(e){var t=e;if(!Array.isArray(t)){var n=Te(t);t=n==="number"||n==="string"?[t]:[]}return t.map(function(r){return String(r)})}var tt=w.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-collapse":n,s=e.destroyInactivePanel,i=s===void 0?!1:s,c=e.style,p=e.accordion,b=e.className,v=e.children,I=e.collapsible,h=e.openMotion,C=e.expandIcon,f=e.activeKey,g=e.defaultActiveKey,y=e.onChange,a=e.items,l=M(r,b),u=Re([],{value:f,onChange:function(S){return y==null?void 0:y(S)},defaultValue:g,postState:et}),x=xe(u,2),d=x[0],O=x[1],$=function(S){return O(function(){if(p)return d[0]===S?[]:[S];var N=d.indexOf(S),B=N>-1;return B?d.filter(function(z){return z!==S}):[].concat(_e(d),[S])})};Be(!v,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var R=qe(a,v,{prefixCls:r,accordion:p,openMotion:h,expandIcon:C,collapsible:I,destroyInactivePanel:i,onItemClick:$,activeKey:d});return w.createElement("div",H({ref:t,className:l,style:c,role:p?"tablist":void 0},oe(e,{aria:!0,data:!0})),R)});const se=Object.assign(tt,{Panel:Ne});se.Panel;const nt=m.forwardRef((e,t)=>{const{getPrefixCls:n}=m.useContext(W),{prefixCls:r,className:s,showArrow:i=!0}=e,c=n("collapse",r),p=M({[`${c}-no-arrow`]:!i},s);return m.createElement(se.Panel,Object.assign({ref:t},e,{prefixCls:c,className:p}))}),rt=e=>{const{componentCls:t,contentBg:n,padding:r,headerBg:s,headerPadding:i,collapseHeaderPaddingSM:c,collapseHeaderPaddingLG:p,collapsePanelBorderRadius:b,lineWidth:v,lineType:I,colorBorder:h,colorText:C,colorTextHeading:f,colorTextDisabled:g,fontSizeLG:y,lineHeight:a,lineHeightLG:l,marginSM:u,paddingSM:x,paddingLG:d,paddingXS:O,motionDurationSlow:$,fontSizeIcon:R,contentPadding:j,fontHeight:S,fontHeightLG:N}=e,B=`${_(v)} ${I} ${h}`;return{[t]:Object.assign(Object.assign({},Ce(e)),{backgroundColor:s,border:B,borderRadius:b,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:B,"&:first-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`${_(b)} ${_(b)} 0 0`}},"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${_(b)} ${_(b)}`}},[`> ${t}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:i,color:f,lineHeight:a,cursor:"pointer",transition:`all ${$}, visibility 0s`},Ie(e)),{[`> ${t}-header-text`]:{flex:"auto"},[`${t}-expand-icon`]:{height:S,display:"flex",alignItems:"center",paddingInlineEnd:u},[`${t}-arrow`]:Object.assign(Object.assign({},De()),{fontSize:R,transition:`transform ${$}`,svg:{transition:`transform ${$}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}}),[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:C,backgroundColor:n,borderTop:B,[`& > ${t}-content-box`]:{padding:j},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:c,paddingInlineStart:O,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(x).sub(O).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:x}}},"&-large":{[`> ${t}-item`]:{fontSize:y,lineHeight:l,[`> ${t}-header`]:{padding:p,paddingInlineStart:r,[`> ${t}-expand-icon`]:{height:N,marginInlineStart:e.calc(d).sub(r).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:d}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${_(b)} ${_(b)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:g,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:u}}}}})}},at=e=>{const{componentCls:t}=e,n=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[n]:{transform:"rotate(180deg)"}}}},ot=e=>{const{componentCls:t,headerBg:n,borderlessContentPadding:r,borderlessContentBg:s,colorBorder:i}=e;return{[`${t}-borderless`]:{backgroundColor:n,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${i}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:s,borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{padding:r}}}},st=e=>{const{componentCls:t,paddingSM:n}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:n}}}}}},lt=e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer,borderlessContentPadding:`${e.paddingXXS}px 16px ${e.padding}px`,borderlessContentBg:"transparent"}),it=ye("Collapse",e=>{const t=ve(e,{collapseHeaderPaddingSM:`${_(e.paddingXS)} ${_(e.paddingSM)}`,collapseHeaderPaddingLG:`${_(e.padding)} ${_(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[rt(t),ot(t),st(t),at(t),Me(t)]},lt),ct=m.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r,expandIcon:s,className:i,style:c}=ke("collapse"),{prefixCls:p,className:b,rootClassName:v,style:I,bordered:h=!0,ghost:C,size:f,expandIconPosition:g="start",children:y,destroyInactivePanel:a,destroyOnHidden:l,expandIcon:u}=e,x=ze(A=>{var P;return(P=f??A)!==null&&P!==void 0?P:"middle"}),d=n("collapse",p),O=n(),[$,R,j]=it(d),S=m.useMemo(()=>g==="left"?"start":g==="right"?"end":g,[g]),N=u??s,B=m.useCallback((A={})=>{const P=typeof N=="function"?N(A):m.createElement(Le,{rotate:A.isActive?r==="rtl"?-90:90:void 0,"aria-label":A.isActive?"expanded":"collapsed"});return te(P,()=>{var T;return{className:M((T=P==null?void 0:P.props)===null||T===void 0?void 0:T.className,`${d}-arrow`)}})},[N,d]),z=M(`${d}-icon-position-${S}`,{[`${d}-borderless`]:!h,[`${d}-rtl`]:r==="rtl",[`${d}-ghost`]:!!C,[`${d}-${x}`]:x!=="middle"},i,b,v,R,j),L=Object.assign(Object.assign({},Ke(O)),{motionAppear:!1,leavedClassName:`${d}-content-hidden`}),X=m.useMemo(()=>y?V(y).map((A,P)=>{var T,K;const D=A.props;if(D!=null&&D.disabled){const Y=(T=A.key)!==null&&T!==void 0?T:String(P),G=Object.assign(Object.assign({},de(A.props,["disabled"])),{key:Y,collapsible:(K=D.collapsible)!==null&&K!==void 0?K:"disabled"});return te(A,G)}return A}):null,[y]);return $(m.createElement(se,Object.assign({ref:t,openMotion:L},de(e,["rootClassName"]),{expandIcon:B,prefixCls:d,className:z,style:Object.assign(Object.assign({},c),I),destroyInactivePanel:l??a}),X))}),re=Object.assign(ct,{Panel:nt}),J=({children:e})=>{const{getPrefixCls:t}=m.useContext(W),n=t("breadcrumb");return m.createElement("li",{className:`${n}-separator`,"aria-hidden":"true"},e===""?e:e||"/")};J.__ANT_BREADCRUMB_SEPARATOR=!0;var dt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function mt(e,t){if(e.title===void 0||e.title===null)return null;const n=Object.keys(t).join("|");return typeof e.title=="object"?e.title:String(e.title).replace(new RegExp(`:(${n})`,"g"),(r,s)=>t[s]||r)}function Se(e,t,n,r){if(n==null)return null;const{className:s,onClick:i}=t,c=dt(t,["className","onClick"]),p=Object.assign(Object.assign({},oe(c,{data:!0,aria:!0})),{onClick:i});return r!==void 0?m.createElement("a",Object.assign({},p,{className:M(`${e}-link`,s),href:r}),n):m.createElement("span",Object.assign({},p,{className:M(`${e}-link`,s)}),n)}function ut(e,t){return(r,s,i,c,p)=>{if(t)return t(r,s,i,c);const b=mt(r,s);return Se(e,r,b,p)}}var ae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Pe=e=>{const{prefixCls:t,separator:n="/",children:r,menu:s,overlay:i,dropdownProps:c,href:p}=e,v=(I=>{if(s||i){const h=Object.assign({},c);if(s){const C=s||{},{items:f}=C,g=ae(C,["items"]);h.menu=Object.assign(Object.assign({},g),{items:f==null?void 0:f.map((y,a)=>{var{key:l,title:u,label:x,path:d}=y,O=ae(y,["key","title","label","path"]);let $=x??u;return d&&($=m.createElement("a",{href:`${p}${d}`},$)),Object.assign(Object.assign({},O),{key:l??a,label:$})})})}else i&&(h.overlay=i);return m.createElement(He,Object.assign({placement:"bottom"},h),m.createElement("span",{className:`${t}-overlay-link`},I,m.createElement(Ue,null)))}return I})(r);return v!=null?m.createElement(m.Fragment,null,m.createElement("li",null,v),n&&m.createElement(J,null,n)):null},we=e=>{const{prefixCls:t,children:n,href:r}=e,s=ae(e,["prefixCls","children","href"]),{getPrefixCls:i}=m.useContext(W),c=i("breadcrumb",t);return m.createElement(Pe,Object.assign({},s,{prefixCls:c}),Se(c,s,n,r))};we.__ANT_BREADCRUMB_ITEM=!0;const pt=e=>{const{componentCls:t,iconCls:n,calc:r}=e;return{[t]:Object.assign(Object.assign({},Ce(e)),{color:e.itemColor,fontSize:e.fontSize,[n]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.linkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${_(e.paddingXXS)}`,borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",marginInline:r(e.marginXXS).mul(-1).equal(),"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},Ie(e)),"li:last-child":{color:e.lastItemColor},[`${t}-separator`]:{marginInline:e.separatorMargin,color:e.separatorColor},[`${t}-link`]:{[`
          > ${n} + span,
          > ${n} + a
        `]:{marginInlineStart:e.marginXXS}},[`${t}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",padding:`0 ${_(e.paddingXXS)}`,marginInline:r(e.marginXXS).mul(-1).equal(),[`> ${n}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}},ft=e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS}),gt=ye("Breadcrumb",e=>{const t=ve(e,{});return pt(t)},ft);var pe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function bt(e){const{breadcrumbName:t,children:n}=e,r=pe(e,["breadcrumbName","children"]),s=Object.assign({title:t},r);return n&&(s.menu={items:n.map(i=>{var{breadcrumbName:c}=i,p=pe(i,["breadcrumbName"]);return Object.assign(Object.assign({},p),{title:c})})}),s}function xt(e,t){return m.useMemo(()=>e||(t?t.map(bt):null),[e,t])}var ht=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const yt=(e,t)=>{if(t===void 0)return t;let n=(t||"").replace(/^\//,"");return Object.keys(e).forEach(r=>{n=n.replace(`:${r}`,e[r])}),n},le=e=>{const{prefixCls:t,separator:n="/",style:r,className:s,rootClassName:i,routes:c,items:p,children:b,itemRender:v,params:I={}}=e,h=ht(e,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:C,direction:f,breadcrumb:g}=m.useContext(W);let y;const a=C("breadcrumb",t),[l,u,x]=gt(a),d=xt(p,c),O=ut(a,v);if(d&&d.length>0){const j=[],S=p||c;y=d.map((N,B)=>{const{path:z,key:L,type:X,menu:A,overlay:P,onClick:T,className:K,separator:D,dropdownProps:Y}=N,G=yt(I,z);G!==void 0&&j.push(G);const ie=L??B;if(X==="separator")return m.createElement(J,{key:ie},D);const Z={},Oe=B===d.length-1;A?Z.menu=A:P&&(Z.overlay=P);let{href:q}=N;return j.length&&G!==void 0&&(q=`#/${j.join("/")}`),m.createElement(Pe,Object.assign({key:ie},Z,oe(N,{data:!0,aria:!0}),{className:K,dropdownProps:Y,href:q,separator:Oe?"":n,onClick:T,prefixCls:a}),O(N,I,S,j,q))})}else if(b){const j=V(b).length;y=V(b).map((S,N)=>{if(!S)return S;const B=N===j-1;return te(S,{separator:B?"":n,key:N})})}const $=M(a,g==null?void 0:g.className,{[`${a}-rtl`]:f==="rtl"},s,i,u,x),R=Object.assign(Object.assign({},g==null?void 0:g.style),r);return l(m.createElement("nav",Object.assign({className:$,style:R},h),m.createElement("ol",null,y)))};le.Item=we;le.Separator=J;var vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},Ct=function(t,n){return m.createElement(Fe,H({},t,{ref:n,icon:vt}))},fe=m.forwardRef(Ct);const{TabPane:U}=je,{Title:ge}=ne,{Panel:be}=re,Mt=()=>{const{id:e}=Xe(),t=Ge(),[n,r]=m.useState(null),[s,i]=m.useState(!0),[c,p]=m.useState([]),[b,v]=m.useState([]),[I,h]=m.useState([]),[C,f]=m.useState([]);if(m.useEffect(()=>{i(!0),Promise.all([Q.get(`/api/accounts/${e}`),Q.get(`/api/quotations/business/${e}`),Q.get(`/api/invoices/business/${e}`),Q.get(`/api/accounts/${e}/followups`),Q.get(`/api/invoices/business/${e}/payments`)]).then(([a,l,u,x,d])=>{r(a.data),p(l.data||[]),v(u.data||[]),h(x.data||[]),f(d.data||[])}).catch(a=>console.error("Failed to load data",a)).finally(()=>i(!1))},[e]),s)return o.jsx("div",{style:{padding:24},children:o.jsx(Qe,{size:"large"})});if(!n)return o.jsxs("div",{style:{padding:24},children:[o.jsx(me,{icon:o.jsx(fe,{}),onClick:()=>t("/customers"),children:"Back to Customers"}),o.jsx(ge,{level:3,style:{marginTop:16},children:"Customer Not Found"}),o.jsx(ee,{description:"No data found for this customer ID."})]});const g=[...I].sort((a,l)=>new Date(l.followupDate||l.date)-new Date(a.followupDate||a.date)),y=[...n.notes||[]].sort((a,l)=>new Date(l.timestamp)-new Date(a.timestamp));return o.jsxs("div",{style:{padding:24},children:[o.jsx(le,{items:[{title:"Customers",href:"/customers"},{title:n.businessName||"Profile"}]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:16},children:[o.jsx(me,{icon:o.jsx(fe,{}),onClick:()=>t(-1),children:"Back"}),o.jsxs(ge,{level:3,style:{margin:0},children:[n.businessName," Profile"]})]}),o.jsxs(Ve,{style:{margin:"24px 0"},children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Business Name:"})," ",n.businessName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"GSTIN:"})," ",n.gstNumber||"N/A"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Customer Name:"})," ",n.contactName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Customer Address:"}),Array.isArray(n.addressLines)?n.addressLines.join(", "):n.addressLines||"N/A"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",n.email]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," ",n.phoneNumber]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Status:"})," ",n.status]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Type:"})," ",n.type]})]}),o.jsxs(je,{defaultActiveKey:"1",children:[o.jsx(U,{tab:`Quotations (${c.length})`,children:c.length===0?o.jsx(ee,{description:"No quotations found"}):o.jsx(re,{accordion:!0,children:c.map((a,l)=>o.jsxs(be,{header:`#${a.quotationNumber} - â‚¹${a.totalAmount} - ${a.date}`,children:[o.jsxs(E,{bordered:!0,column:2,size:"small",children:[o.jsxs(E.Item,{label:"Quotation Number",children:["#",a.quotationNumber]}),o.jsx(E.Item,{label:"Date",children:a.date}),o.jsx(E.Item,{label:"Business Name",children:a.businessName}),o.jsx(E.Item,{label:"Customer Name",children:a.contactName}),o.jsx(E.Item,{label:"GSTIN",children:a.gstNumber||"N/A"}),o.jsx(E.Item,{label:"Business Info",children:a.businessInfo||"N/A"}),o.jsx(E.Item,{label:"Customer Address",span:2,children:Array.isArray(a.customerAddress)?a.customerAddress.join(", "):a.customerAddress||"N/A"}),o.jsx(E.Item,{label:"Total Amount",span:2,children:o.jsxs("strong",{style:{color:"green"},children:["â‚¹",Number(a.totalAmount).toFixed(2)]})})]}),o.jsx(ne.Title,{level:5,style:{marginTop:16},children:"Items"}),o.jsx(ue,{dataSource:a.items||[],columns:[{title:"Description",dataIndex:"description"},{title:"HSN/SAC",dataIndex:"hsn"},{title:"Qty",dataIndex:"quantity"},{title:"Rate (â‚¹)",dataIndex:"rate",render:u=>`â‚¹${Number(u).toFixed(2)}`},{title:"Amount (â‚¹)",dataIndex:"amount",render:u=>`â‚¹${Number(u).toFixed(2)}`}],pagination:!1,rowKey:(u,x)=>x})]},l))})},"1"),o.jsx(U,{tab:`Invoices (${b.length})`,children:b.length===0?o.jsx(ee,{description:"No invoices found"}):o.jsx(re,{accordion:!0,children:b.map((a,l)=>o.jsxs(be,{header:`#${a.invoiceNumber} - â‚¹${a.totalAmount} - ${a.date}`,children:[o.jsxs(E,{bordered:!0,size:"small",column:2,children:[o.jsxs(E.Item,{label:"Invoice Number",children:["#",a.invoiceNumber]}),o.jsx(E.Item,{label:"Date",children:a.date}),o.jsx(E.Item,{label:"Customer Name",children:a.contactName}),o.jsx(E.Item,{label:"GSTIN",children:a.gstNumber||"N/A"}),o.jsx(E.Item,{label:"Customer Address",span:2,children:Array.isArray(a.customerAddress)?a.customerAddress.join(", "):a.customerAddress||"N/A"}),o.jsx(E.Item,{label:"Total Amount",span:2,children:o.jsxs("strong",{style:{color:"green"},children:["â‚¹",Number(a.totalAmount).toFixed(2)]})})]}),o.jsx(ne.Title,{level:5,style:{marginTop:16},children:"Items"}),o.jsx(ue,{dataSource:a.items||[],columns:[{title:"Description",dataIndex:"description"},{title:"HSN/SAC",dataIndex:"hsn"},{title:"Qty",dataIndex:"quantity"},{title:"Rate (â‚¹)",dataIndex:"rate",render:u=>`â‚¹${Number(u).toFixed(2)}`},{title:"Amount (â‚¹)",dataIndex:"amount",render:u=>`â‚¹${Number(u).toFixed(2)}`}],pagination:!1,rowKey:(u,x)=>x})]},l))})},"2"),o.jsx(U,{tab:`Follow-ups (${g.length})`,children:o.jsx(F,{bordered:!0,dataSource:g,locale:{emptyText:"No follow-ups found"},renderItem:a=>o.jsx(F.Item,{children:o.jsxs("div",{style:{width:"100%"},children:[o.jsxs("div",{style:{fontWeight:"bold",color:"#555"},children:["ðŸ“… ",a.followupDate||a.date?new Date(a.followupDate||a.date).toLocaleDateString():"No date"]}),o.jsxs("div",{style:{color:"#333",marginTop:4},children:["ðŸ“ ",a.note||a.comment||"No comment provided"]}),a.addedBy&&o.jsxs("div",{style:{marginTop:4,fontSize:12,color:"#888"},children:["Added by: ",a.addedBy.name||a.addedBy.email||"Unknown"]})]})})})},"3"),o.jsx(U,{tab:`Payments (${C.length})`,children:o.jsx(F,{bordered:!0,dataSource:C,locale:{emptyText:"No payments found"},renderItem:a=>o.jsxs(F.Item,{children:["â‚¹",a.amount," via ",a.method," â€” ",a.date," â€” ",a.addedBy]})})},"4"),o.jsx(U,{tab:`Notes (${y.length})`,children:o.jsx(F,{bordered:!0,dataSource:y,locale:{emptyText:"No notes available"},renderItem:a=>{var l,u;return o.jsx(F.Item,{children:o.jsxs("div",{style:{width:"100%"},children:[o.jsx("div",{style:{color:"#333"},children:a.text}),o.jsxs("div",{style:{fontSize:12,color:"#888",marginTop:4},children:[a.author||((l=a.addedBy)==null?void 0:l.name)||((u=a.addedBy)==null?void 0:u.email)||"Unknown"," | ",new Date(a.timestamp).toLocaleString()]})]})})}})},"5")]})]})};export{Mt as default};
