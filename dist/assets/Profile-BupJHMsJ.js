import{g as be,b as Se,u as ae,r as n,d as Ie,f as q,ag as Ce,as as $e,at as we,au as Ee,av as ze,aw as Re,ax as Oe,ay as Pe,az as Be,t as Le,v as Me,x as Ne,I as N,k as T,ap as Te,X as w,U as e,an as ke,W as le,V as W,ao as y,a0 as O,aq as k,Y as Z,Z as E,aA as Ae,aa as K,$ as F,aB as He,aC as De,a4 as A,S as P,aD as Q,aE as ee,a6 as re,ar as H}from"./index-CDYSMnhF.js";import{_ as Ue}from"./callSuper-Ct7jrUk1.js";import{R as _e}from"./SaveOutlined-BVNGTHmv.js";const D=(t,r,o,s,a)=>({background:t,border:`${ae(s.lineWidth)} ${s.lineType} ${r}`,[`${a}-icon`]:{color:o}}),Ve=t=>{const{componentCls:r,motionDurationSlow:o,marginXS:s,marginSM:a,fontSize:i,fontSizeLG:d,lineHeight:x,borderRadiusLG:p,motionEaseInOutCirc:f,withDescriptionIconSize:j,colorText:h,colorTextHeading:C,withDescriptionPadding:b,defaultPadding:c}=t;return{[r]:Object.assign(Object.assign({},Se(t)),{position:"relative",display:"flex",alignItems:"center",padding:c,wordWrap:"break-word",borderRadius:p,[`&${r}-rtl`]:{direction:"rtl"},[`${r}-content`]:{flex:1,minWidth:0},[`${r}-icon`]:{marginInlineEnd:s,lineHeight:0},"&-description":{display:"none",fontSize:i,lineHeight:x},"&-message":{color:C},[`&${r}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${o} ${f}, opacity ${o} ${f},
        padding-top ${o} ${f}, padding-bottom ${o} ${f},
        margin-bottom ${o} ${f}`},[`&${r}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${r}-with-description`]:{alignItems:"flex-start",padding:b,[`${r}-icon`]:{marginInlineEnd:a,fontSize:j,lineHeight:0},[`${r}-message`]:{display:"block",marginBottom:s,color:C,fontSize:d},[`${r}-description`]:{display:"block",color:h}},[`${r}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},We=t=>{const{componentCls:r,colorSuccess:o,colorSuccessBorder:s,colorSuccessBg:a,colorWarning:i,colorWarningBorder:d,colorWarningBg:x,colorError:p,colorErrorBorder:f,colorErrorBg:j,colorInfo:h,colorInfoBorder:C,colorInfoBg:b}=t;return{[r]:{"&-success":D(a,s,o,t,r),"&-info":D(b,C,h,t,r),"&-warning":D(x,d,i,t,r),"&-error":Object.assign(Object.assign({},D(j,f,p,t,r)),{[`${r}-description > pre`]:{margin:0,padding:0}})}}},Fe=t=>{const{componentCls:r,iconCls:o,motionDurationMid:s,marginXS:a,fontSizeIcon:i,colorIcon:d,colorIconHover:x}=t;return{[r]:{"&-action":{marginInlineStart:a},[`${r}-close-icon`]:{marginInlineStart:a,padding:0,overflow:"hidden",fontSize:i,lineHeight:ae(i),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${o}-close`]:{color:d,transition:`color ${s}`,"&:hover":{color:x}}},"&-close-text":{color:d,transition:`color ${s}`,"&:hover":{color:x}}}}},qe=t=>({withDescriptionIconSize:t.fontSizeHeading3,defaultPadding:`${t.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`}),Je=be("Alert",t=>[Ve(t),We(t),Fe(t)],qe);var te=function(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(o[s[a]]=t[s[a]]);return o};const Xe={success:Pe,info:Oe,error:Re,warning:ze},Ge=t=>{const{icon:r,prefixCls:o,type:s}=t,a=Xe[s]||null;return r?Ee(r,n.createElement("span",{className:`${o}-icon`},r),()=>({className:q(`${o}-icon`,r.props.className)})):n.createElement(a,{className:`${o}-icon`})},Ye=t=>{const{isClosable:r,prefixCls:o,closeIcon:s,handleClose:a,ariaProps:i}=t,d=s===!0||s===void 0?n.createElement(Be,null):s;return r?n.createElement("button",Object.assign({type:"button",onClick:a,className:`${o}-close-icon`,tabIndex:0},i),d):null},ie=n.forwardRef((t,r)=>{const{description:o,prefixCls:s,message:a,banner:i,className:d,rootClassName:x,style:p,onMouseEnter:f,onMouseLeave:j,onClick:h,afterClose:C,showIcon:b,closable:c,closeText:z,closeIcon:S,action:L,id:_}=t,V=te(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[l,g]=n.useState(!1),m=n.useRef(null);n.useImperativeHandle(r,()=>({nativeElement:m.current}));const{getPrefixCls:$,direction:ce,closable:R,closeIcon:J,className:de,style:pe}=Ie("alert"),u=$("alert",s),[me,ue,xe]=Je(u),fe=I=>{var B;g(!0),(B=t.onClose)===null||B===void 0||B.call(t,I)},X=n.useMemo(()=>t.type!==void 0?t.type:i?"warning":"info",[t.type,i]),ge=n.useMemo(()=>typeof c=="object"&&c.closeIcon||z?!0:typeof c=="boolean"?c:S!==!1&&S!==null&&S!==void 0?!0:!!R,[z,S,c,R]),G=i&&b===void 0?!0:b,he=q(u,`${u}-${X}`,{[`${u}-with-description`]:!!o,[`${u}-no-icon`]:!G,[`${u}-banner`]:!!i,[`${u}-rtl`]:ce==="rtl"},de,d,x,xe,ue),ye=Ce(V,{aria:!0,data:!0}),je=n.useMemo(()=>typeof c=="object"&&c.closeIcon?c.closeIcon:z||(S!==void 0?S:typeof R=="object"&&R.closeIcon?R.closeIcon:J),[S,c,z,J]),ve=n.useMemo(()=>{const I=c??R;if(typeof I=="object"){const{closeIcon:B}=I;return te(I,["closeIcon"])}return{}},[c,R]);return me(n.createElement($e,{visible:!l,motionName:`${u}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:I=>({maxHeight:I.offsetHeight}),onLeaveEnd:C},({className:I,style:B},Y)=>n.createElement("div",Object.assign({id:_,ref:we(m,Y),"data-show":!l,className:q(he,I),style:Object.assign(Object.assign(Object.assign({},pe),p),B),onMouseEnter:f,onMouseLeave:j,onClick:h,role:"alert"},ye),G?n.createElement(Ge,{description:o,icon:t.icon,prefixCls:u,type:X}):null,n.createElement("div",{className:`${u}-content`},a?n.createElement("div",{className:`${u}-message`},a):null,o?n.createElement("div",{className:`${u}-description`},o):null),L?n.createElement("div",{className:`${u}-action`},L):null,n.createElement(Ye,{isClosable:ge,prefixCls:u,closeIcon:je,handleClose:fe,ariaProps:ve}))))});let Ze=function(t){function r(){var o;return Ne(this,r),o=Ue(this,r,arguments),o.state={error:void 0,info:{componentStack:""}},o}return Le(r,t),Me(r,[{key:"componentDidCatch",value:function(s,a){this.setState({error:s,info:a})}},{key:"render",value:function(){const{message:s,description:a,id:i,children:d}=this.props,{error:x,info:p}=this.state,f=(p==null?void 0:p.componentStack)||null,j=typeof s>"u"?(x||"").toString():s,h=typeof a>"u"?f:a;return x?n.createElement(ie,{id:i,type:"error",message:j,description:n.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},h)}):d}}])}(n.Component);const U=ie;U.ErrorBoundary=Ze;var Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zm-126 534.1H250.3l-53.8-409.4 139.8 86.1L512 252.9l175.7 234.4 139.8-86.1-53.9 409.4zM512 509c-62.1 0-112.6 50.5-112.6 112.6S449.9 734.2 512 734.2s112.6-50.5 112.6-112.6S574.1 509 512 509zm0 160.9c-26.6 0-48.2-21.6-48.2-48.3 0-26.6 21.6-48.3 48.2-48.3s48.2 21.6 48.2 48.3c0 26.6-21.6 48.3-48.2 48.3z"}}]},name:"crown",theme:"outlined"},Qe=function(r,o){return n.createElement(N,T({},r,{ref:o,icon:Ke}))},M=n.forwardRef(Qe),er={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136V232h752v560zM610.3 476h123.4c1.3 0 2.3-3.6 2.3-8v-48c0-4.4-1-8-2.3-8H610.3c-1.3 0-2.3 3.6-2.3 8v48c0 4.4 1 8 2.3 8zm4.8 144h185.7c3.9 0 7.1-3.6 7.1-8v-48c0-4.4-3.2-8-7.1-8H615.1c-3.9 0-7.1 3.6-7.1 8v48c0 4.4 3.2 8 7.1 8zM224 673h43.9c4.2 0 7.6-3.3 7.9-7.5 3.8-50.5 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H522a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.6-126.1a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1c-.4 4.6 3.2 8.4 7.8 8.4zm149-262c28.5 0 51.7 23.3 51.7 52s-23.2 52-51.7 52-51.7-23.3-51.7-52 23.2-52 51.7-52z"}}]},name:"idcard",theme:"outlined"},rr=function(r,o){return n.createElement(N,T({},r,{ref:o,icon:er}))},tr=n.forwardRef(rr),or={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},nr=function(r,o){return n.createElement(N,T({},r,{ref:o,icon:or}))},oe=n.forwardRef(nr),sr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]},name:"phone",theme:"outlined"},ar=function(r,o){return n.createElement(N,T({},r,{ref:o,icon:sr}))},ne=n.forwardRef(ar),lr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},ir=function(r,o){return n.createElement(N,T({},r,{ref:o,icon:lr}))},se=n.forwardRef(ir);const{Title:cr,Text:v}=le,ur=()=>{const t=Te(),[r,o]=n.useState(null),[s,a]=n.useState(!0),[i,d]=n.useState(null),[x,p]=n.useState(!1),[f,j]=n.useState(!1),[h]=w.useForm(),C=()=>{const l=localStorage.getItem("user");if(l)try{return JSON.parse(l)._id}catch(g){return console.error("Error parsing user data from localStorage:",g),localStorage.removeItem("user"),null}return null},b=async()=>{const l=C();if(!l){a(!1),t("/login");return}a(!0),d(null);try{const g=await re.get(`/api/users/${l}`);o(g.data),localStorage.setItem("user",JSON.stringify(g.data))}catch(g){console.error("Error fetching user details:",g),d("Failed to load user profile. Please check your network or try again.");const m=localStorage.getItem("user");if(m)try{const $=JSON.parse(m);o($),H.error("Using cached profile data. Please refresh to get latest information.")}catch($){console.error("Error parsing fallback user data:",$),localStorage.removeItem("user"),t("/login")}else t("/login")}finally{a(!1)}};n.useEffect(()=>{b()},[t]);const c=l=>(l==null?void 0:l.toLowerCase())==="active"?"success":"error",z=l=>(l==null?void 0:l.toLowerCase())==="active"?e.jsx(Q,{}):e.jsx(ee,{}),S=l=>({superadmin:"red",admin:"blue",employee:"green",user:"green",manager:"orange",moderator:"purple"})[l==null?void 0:l.toLowerCase()]||"default",L=()=>{b()},_=()=>{r?(h.setFieldsValue({name:r.name,email:r.email,mobile:r.mobile||"",role:r.role,status:r.status}),p(!0)):H.error("User data not loaded yet. Please try refreshing.")},V=async()=>{var l,g;try{j(!0);const m=await h.validateFields();m.password||delete m.password;const $=await re.put(`/api/users/${r._id}`,m);o($.data),localStorage.setItem("user",JSON.stringify($.data)),H.success("Profile updated successfully!"),p(!1)}catch(m){console.error("Error updating profile:",m),H.error(((g=(l=m==null?void 0:m.response)==null?void 0:l.data)==null?void 0:g.message)||"Failed to update profile. Please try again.")}finally{j(!1)}};return s?e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",flexDirection:"column",gap:"16px"},children:[e.jsx(ke,{size:"large"}),e.jsx(le.Text,{type:"secondary",children:"Loading your profile..."})]}):i&&!r?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",padding:"20px"},children:e.jsxs(W,{style:{maxWidth:"400px",textAlign:"center"},children:[e.jsx(U,{message:"Profile Load Error",description:i,type:"error",showIcon:!0,style:{marginBottom:"16px"}}),e.jsxs(y,{children:[e.jsx(O,{type:"primary",style:{backgroundColor:"#ef7a1b",borderColor:"#orange",color:"white"},onClick:L,icon:e.jsx(se,{}),children:"Retry"}),e.jsx(O,{onClick:()=>t("/login"),children:"Back to Login"})]})]})}):r?e.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px"},children:e.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[e.jsx(W,{style:{marginBottom:"24px",borderRadius:"16px",border:"none"},children:e.jsxs(Z,{align:"middle",gutter:24,children:[e.jsx(E,{children:e.jsx(Ae,{size:80,style:{backgroundColor:"#ef7a1b",fontSize:"32px"},children:r.name?r.name.charAt(0).toUpperCase():e.jsx(k,{})})}),e.jsxs(E,{flex:1,children:[e.jsx(cr,{level:2,style:{margin:0,color:"#ef7a1b"},children:r.name}),e.jsx(v,{type:"secondary",style:{fontSize:"16px"},children:"Welcome back to your profile"})]}),e.jsx(E,{children:e.jsxs(y,{children:[e.jsx(O,{type:"default",icon:e.jsx(se,{}),size:"large",onClick:L,style:{borderRadius:"8px"},title:"Refresh Profile"}),e.jsx(O,{type:"default",icon:e.jsx(K,{}),size:"large",onClick:_,style:{borderRadius:"8px"},children:"Edit Profile"})]})})]})}),e.jsxs(W,{title:e.jsxs(y,{children:[e.jsx(tr,{}),e.jsx("span",{children:"Profile Information"})]}),style:{borderRadius:"16px",border:"none"},headStyle:{borderBottom:"2px solid #f0f0f0",fontSize:"18px",fontWeight:"600"},children:[e.jsxs(Z,{gutter:[24,24],children:[e.jsx(E,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"FULL NAME"}),e.jsxs("div",{style:{marginTop:"4px",display:"flex",alignItems:"center"},children:[e.jsx(k,{style:{marginRight:"8px",color:"#ef7a1b"}}),e.jsx(v,{style:{fontSize:"16px"},children:r.name})]})]})}),e.jsx(E,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"EMAIL ADDRESS"}),e.jsxs("div",{style:{marginTop:"4px",display:"flex",alignItems:"center"},children:[e.jsx(oe,{style:{marginRight:"8px",color:"#52c41a"}}),e.jsx(v,{style:{fontSize:"16px"},children:r.email})]})]})}),e.jsx(E,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"MOBILE NUMBER"}),e.jsxs("div",{style:{marginTop:"4px",display:"flex",alignItems:"center"},children:[e.jsx(ne,{style:{marginRight:"8px",color:"#52c41a"}}),e.jsx(v,{style:{fontSize:"16px"},children:r.mobile||"Not provided"}),r.mobile&&e.jsx(F,{color:"success",size:"small",style:{marginLeft:"8px",borderRadius:"4px"},children:"Verified"})]})]})}),e.jsx(E,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"ROLE"}),e.jsx("div",{style:{marginTop:"4px"},children:e.jsx(F,{icon:e.jsx(M,{}),color:S(r.role),style:{fontSize:"14px",padding:"4px 12px",borderRadius:"6px",textTransform:"capitalize"},children:r.role})})]})}),e.jsx(E,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"STATUS"}),e.jsx("div",{style:{marginTop:"4px"},children:e.jsx(F,{icon:z(r.status),color:c(r.status),style:{fontSize:"14px",padding:"4px 12px",borderRadius:"6px",textTransform:"capitalize"},children:r.status})})]})})]}),e.jsx(He,{}),e.jsx("div",{style:{textAlign:"center",paddingTop:"16px"},children:e.jsxs(y,{direction:"vertical",size:4,children:[e.jsxs(v,{type:"secondary",style:{fontSize:"14px"},children:["Profile last updated:"," ",r.updatedAt?new Date(r.updatedAt).toLocaleString():new Date().toLocaleDateString()]}),i&&e.jsx(U,{message:"Some data may be outdated",type:"warning",size:"small",showIcon:!0,style:{marginTop:"8px"}})]})})]}),e.jsx(De,{title:e.jsxs(y,{children:[e.jsx(K,{}),e.jsx("span",{children:"Edit Profile"})]}),open:x,onClose:()=>p(!1),width:480,destroyOnClose:!0,extra:e.jsxs(y,{children:[e.jsx(O,{onClick:()=>p(!1),children:"Cancel"}),e.jsx(O,{type:"primary",style:{backgroundColor:"#ef7a1b",borderColor:"#orange",color:"white"},icon:e.jsx(_e,{}),loading:f,onClick:V,children:"Save Changes"})]}),children:e.jsxs(w,{form:h,layout:"vertical",requiredMark:"optional",children:[e.jsx(w.Item,{name:"name",label:"Full Name",rules:[{required:!0,message:"Please enter full name"},{min:2,message:"Name must be at least 2 characters"}],children:e.jsx(A,{prefix:e.jsx(k,{}),placeholder:"Enter full name",size:"large"})}),e.jsx(w.Item,{name:"email",label:"Email Address",rules:[{required:!0,message:"Please enter email address"},{type:"email",message:"Please enter a valid email"}],children:e.jsx(A,{prefix:e.jsx(oe,{}),placeholder:"Enter email address",size:"large"})}),e.jsx(w.Item,{name:"mobile",label:"Mobile Number",rules:[{pattern:/^[0-9]{10}$/,message:"Please enter a valid 10-digit mobile number"}],children:e.jsx(A,{prefix:e.jsx(ne,{}),placeholder:"Enter mobile number",size:"large",style:{color:"#52c41a"}})}),e.jsx(w.Item,{name:"password",label:"New Password (Optional)",rules:[{min:6,message:"Password must be at least 6 characters"}],children:e.jsx(A.Password,{placeholder:"Leave blank to keep current password",size:"large"})}),e.jsx(w.Item,{name:"role",label:"Role",children:e.jsxs(P,{placeholder:"Select role",size:"large",disabled:(r==null?void 0:r.role)!=="Superadmin",suffixIcon:e.jsx(M,{}),children:[e.jsx(P.Option,{value:"Superadmin",children:e.jsxs(y,{children:[e.jsx(M,{style:{color:"#ff4d4f"}}),e.jsx("span",{children:"Superadmin"})]})}),e.jsx(P.Option,{value:"Admin",children:e.jsxs(y,{children:[e.jsx(M,{style:{color:"#ef7a1b"}}),e.jsx("span",{children:"Admin"})]})}),e.jsx(P.Option,{value:"Employee",children:e.jsxs(y,{children:[e.jsx(M,{style:{color:"#52c41a"}}),e.jsx("span",{children:"Employee"})]})})]})}),e.jsx(w.Item,{name:"status",label:"Status",children:e.jsxs(P,{placeholder:"Select status",size:"large",disabled:(r==null?void 0:r.role)!=="Superadmin",children:[e.jsx(P.Option,{value:"Active",children:e.jsxs(y,{children:[e.jsx(Q,{style:{color:"#52c41a"}}),e.jsx("span",{children:"Active"})]})}),e.jsx(P.Option,{value:"Inactive",children:e.jsxs(y,{children:[e.jsx(ee,{style:{color:"#ff4d4f"}}),e.jsx("span",{children:"Inactive"})]})})]})}),e.jsx(U,{message:"Profile Update",description:(r==null?void 0:r.role)!=="Superadmin"?"Role and Status can only be changed by Superadmin users.":"You can update all profile fields including role and status.",type:"info",showIcon:!0,style:{marginTop:"16px"}})]})})]})}):e.jsxs("div",{style:{textAlign:"center",marginTop:"50px",color:"#999"},children:[e.jsx(k,{style:{fontSize:"48px",marginBottom:"16px"}}),e.jsx("div",{children:"Unable to load profile data. Please log in again."}),e.jsx(O,{type:"primary",style:{marginTop:"16px",backgroundColor:"#ef7a1b",borderColor:"#orange",color:"white"},onClick:()=>t("/login"),children:"Back to Login"})]})};export{ur as default};
