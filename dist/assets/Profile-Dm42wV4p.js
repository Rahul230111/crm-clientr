import{g as be,a as Se,u as ae,r as n,b as Ce,d as J,L as Ie,M as $e,N as we,j as ze,k as Ee,o as Re,I as L,e as B,J as Oe,x as e,S as Pe,H as y,B as O,K as T,O as Le,V as H}from"./index-3j2E7pUL.js";import{i as Y}from"./axios-CSlAuMiO.js";import{F as w}from"./index-jd3XYpcD.js";import{T as le}from"./index-C-eCguuc.js";import{C as F}from"./index-DhvOivYi.js";import{a as Be,b as Me,I as A}from"./index-CsUGJ7YV.js";import{p as Ne,R as ke,a as Te}from"./TextArea-DELUlYzR.js";import{R as He}from"./InfoCircleFilled-DSywJBHM.js";import{_ as Ae}from"./callSuper-DzNf0td-.js";import{R as Q,C as z}from"./row-BatVd8KW.js";import{R as Z}from"./EditOutlined-0_cnfjzU.js";import{T as W}from"./index-BrSJe371.js";import{D as De}from"./index-MHS1ptoq.js";import{D as Ue}from"./index-DVSodFTC.js";import{S as P}from"./index-DiojptZP.js";import{R as _e}from"./SaveOutlined-CrZtMtWj.js";import"./styleChecker-D89VOBbV.js";import"./index-BRTO4pFo.js";import"./PlusOutlined-BdSH2k4o.js";import"./useClosable-CC1Ls4ip.js";import"./extendsObject-78o_rR5W.js";import"./context-DJnMqWkY.js";const D=(t,r,o,s,a)=>({background:t,border:`${ae(s.lineWidth)} ${s.lineType} ${r}`,[`${a}-icon`]:{color:o}}),Ve=t=>{const{componentCls:r,motionDurationSlow:o,marginXS:s,marginSM:a,fontSize:i,fontSizeLG:d,lineHeight:f,borderRadiusLG:m,motionEaseInOutCirc:g,withDescriptionIconSize:j,colorText:h,colorTextHeading:I,withDescriptionPadding:b,defaultPadding:c}=t;return{[r]:Object.assign(Object.assign({},Se(t)),{position:"relative",display:"flex",alignItems:"center",padding:c,wordWrap:"break-word",borderRadius:m,[`&${r}-rtl`]:{direction:"rtl"},[`${r}-content`]:{flex:1,minWidth:0},[`${r}-icon`]:{marginInlineEnd:s,lineHeight:0},"&-description":{display:"none",fontSize:i,lineHeight:f},"&-message":{color:I},[`&${r}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${o} ${g}, opacity ${o} ${g},
        padding-top ${o} ${g}, padding-bottom ${o} ${g},
        margin-bottom ${o} ${g}`},[`&${r}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${r}-with-description`]:{alignItems:"flex-start",padding:b,[`${r}-icon`]:{marginInlineEnd:a,fontSize:j,lineHeight:0},[`${r}-message`]:{display:"block",marginBottom:s,color:I,fontSize:d},[`${r}-description`]:{display:"block",color:h}},[`${r}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Fe=t=>{const{componentCls:r,colorSuccess:o,colorSuccessBorder:s,colorSuccessBg:a,colorWarning:i,colorWarningBorder:d,colorWarningBg:f,colorError:m,colorErrorBorder:g,colorErrorBg:j,colorInfo:h,colorInfoBorder:I,colorInfoBg:b}=t;return{[r]:{"&-success":D(a,s,o,t,r),"&-info":D(b,I,h,t,r),"&-warning":D(f,d,i,t,r),"&-error":Object.assign(Object.assign({},D(j,g,m,t,r)),{[`${r}-description > pre`]:{margin:0,padding:0}})}}},We=t=>{const{componentCls:r,iconCls:o,motionDurationMid:s,marginXS:a,fontSizeIcon:i,colorIcon:d,colorIconHover:f}=t;return{[r]:{"&-action":{marginInlineStart:a},[`${r}-close-icon`]:{marginInlineStart:a,padding:0,overflow:"hidden",fontSize:i,lineHeight:ae(i),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${o}-close`]:{color:d,transition:`color ${s}`,"&:hover":{color:f}}},"&-close-text":{color:d,transition:`color ${s}`,"&:hover":{color:f}}}}},Je=t=>({withDescriptionIconSize:t.fontSizeHeading3,defaultPadding:`${t.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`}),qe=be("Alert",t=>[Ve(t),Fe(t),We(t)],Je);var ee=function(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(o[s[a]]=t[s[a]]);return o};const Ge={success:Me,info:He,error:ke,warning:Be},Xe=t=>{const{icon:r,prefixCls:o,type:s}=t,a=Ge[s]||null;return r?we(r,n.createElement("span",{className:`${o}-icon`},r),()=>({className:J(`${o}-icon`,r.props.className)})):n.createElement(a,{className:`${o}-icon`})},Ke=t=>{const{isClosable:r,prefixCls:o,closeIcon:s,handleClose:a,ariaProps:i}=t,d=s===!0||s===void 0?n.createElement(Te,null):s;return r?n.createElement("button",Object.assign({type:"button",onClick:a,className:`${o}-close-icon`,tabIndex:0},i),d):null},ie=n.forwardRef((t,r)=>{const{description:o,prefixCls:s,message:a,banner:i,className:d,rootClassName:f,style:m,onMouseEnter:g,onMouseLeave:j,onClick:h,afterClose:I,showIcon:b,closable:c,closeText:E,closeIcon:S,action:N,id:_}=t,V=ee(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[l,x]=n.useState(!1),p=n.useRef(null);n.useImperativeHandle(r,()=>({nativeElement:p.current}));const{getPrefixCls:$,direction:ce,closable:R,closeIcon:q,className:de,style:me}=Ce("alert"),u=$("alert",s),[pe,ue,fe]=qe(u),ge=C=>{var M;x(!0),(M=t.onClose)===null||M===void 0||M.call(t,C)},G=n.useMemo(()=>t.type!==void 0?t.type:i?"warning":"info",[t.type,i]),xe=n.useMemo(()=>typeof c=="object"&&c.closeIcon||E?!0:typeof c=="boolean"?c:S!==!1&&S!==null&&S!==void 0?!0:!!R,[E,S,c,R]),X=i&&b===void 0?!0:b,he=J(u,`${u}-${G}`,{[`${u}-with-description`]:!!o,[`${u}-no-icon`]:!X,[`${u}-banner`]:!!i,[`${u}-rtl`]:ce==="rtl"},de,d,f,fe,ue),ye=Ne(V,{aria:!0,data:!0}),je=n.useMemo(()=>typeof c=="object"&&c.closeIcon?c.closeIcon:E||(S!==void 0?S:typeof R=="object"&&R.closeIcon?R.closeIcon:q),[S,c,E,q]),ve=n.useMemo(()=>{const C=c??R;if(typeof C=="object"){const{closeIcon:M}=C;return ee(C,["closeIcon"])}return{}},[c,R]);return pe(n.createElement(Ie,{visible:!l,motionName:`${u}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:C=>({maxHeight:C.offsetHeight}),onLeaveEnd:I},({className:C,style:M},K)=>n.createElement("div",Object.assign({id:_,ref:$e(p,K),"data-show":!l,className:J(he,C),style:Object.assign(Object.assign(Object.assign({},me),m),M),onMouseEnter:g,onMouseLeave:j,onClick:h,role:"alert"},ye),X?n.createElement(Xe,{description:o,icon:t.icon,prefixCls:u,type:G}):null,n.createElement("div",{className:`${u}-content`},a?n.createElement("div",{className:`${u}-message`},a):null,o?n.createElement("div",{className:`${u}-description`},o):null),N?n.createElement("div",{className:`${u}-action`},N):null,n.createElement(Ke,{isClosable:xe,prefixCls:u,closeIcon:je,handleClose:ge,ariaProps:ve}))))});let Ye=function(t){function r(){var o;return Re(this,r),o=Ae(this,r,arguments),o.state={error:void 0,info:{componentStack:""}},o}return ze(r,t),Ee(r,[{key:"componentDidCatch",value:function(s,a){this.setState({error:s,info:a})}},{key:"render",value:function(){const{message:s,description:a,id:i,children:d}=this.props,{error:f,info:m}=this.state,g=(m==null?void 0:m.componentStack)||null,j=typeof s>"u"?(f||"").toString():s,h=typeof a>"u"?g:a;return f?n.createElement(ie,{id:i,type:"error",message:j,description:n.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},h)}):d}}])}(n.Component);const U=ie;U.ErrorBoundary=Ye;var Qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},Ze=function(r,o){return n.createElement(L,B({},r,{ref:o,icon:Qe}))},re=n.forwardRef(Ze),er={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},rr=function(r,o){return n.createElement(L,B({},r,{ref:o,icon:er}))},te=n.forwardRef(rr),tr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zm-126 534.1H250.3l-53.8-409.4 139.8 86.1L512 252.9l175.7 234.4 139.8-86.1-53.9 409.4zM512 509c-62.1 0-112.6 50.5-112.6 112.6S449.9 734.2 512 734.2s112.6-50.5 112.6-112.6S574.1 509 512 509zm0 160.9c-26.6 0-48.2-21.6-48.2-48.3 0-26.6 21.6-48.3 48.2-48.3s48.2 21.6 48.2 48.3c0 26.6-21.6 48.3-48.2 48.3z"}}]},name:"crown",theme:"outlined"},or=function(r,o){return n.createElement(L,B({},r,{ref:o,icon:tr}))},k=n.forwardRef(or),nr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136V232h752v560zM610.3 476h123.4c1.3 0 2.3-3.6 2.3-8v-48c0-4.4-1-8-2.3-8H610.3c-1.3 0-2.3 3.6-2.3 8v48c0 4.4 1 8 2.3 8zm4.8 144h185.7c3.9 0 7.1-3.6 7.1-8v-48c0-4.4-3.2-8-7.1-8H615.1c-3.9 0-7.1 3.6-7.1 8v48c0 4.4 3.2 8 7.1 8zM224 673h43.9c4.2 0 7.6-3.3 7.9-7.5 3.8-50.5 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H522a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.6-126.1a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1c-.4 4.6 3.2 8.4 7.8 8.4zm149-262c28.5 0 51.7 23.3 51.7 52s-23.2 52-51.7 52-51.7-23.3-51.7-52 23.2-52 51.7-52z"}}]},name:"idcard",theme:"outlined"},sr=function(r,o){return n.createElement(L,B({},r,{ref:o,icon:nr}))},ar=n.forwardRef(sr),lr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},ir=function(r,o){return n.createElement(L,B({},r,{ref:o,icon:lr}))},oe=n.forwardRef(ir),cr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]},name:"phone",theme:"outlined"},dr=function(r,o){return n.createElement(L,B({},r,{ref:o,icon:cr}))},ne=n.forwardRef(dr),mr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},pr=function(r,o){return n.createElement(L,B({},r,{ref:o,icon:mr}))},se=n.forwardRef(pr);const{Title:ur,Text:v}=le,kr=()=>{const t=Oe(),[r,o]=n.useState(null),[s,a]=n.useState(!0),[i,d]=n.useState(null),[f,m]=n.useState(!1),[g,j]=n.useState(!1),[h]=w.useForm(),I=()=>{const l=localStorage.getItem("user");if(l)try{return JSON.parse(l)._id}catch(x){return console.error("Error parsing user data from localStorage:",x),localStorage.removeItem("user"),null}return null},b=async()=>{const l=I();if(!l){a(!1),t("/login");return}a(!0),d(null);try{const x=await Y.get(`/api/users/${l}`);o(x.data),localStorage.setItem("user",JSON.stringify(x.data))}catch(x){console.error("Error fetching user details:",x),d("Failed to load user profile. Please check your network or try again.");const p=localStorage.getItem("user");if(p)try{const $=JSON.parse(p);o($),H.error("Using cached profile data. Please refresh to get latest information.")}catch($){console.error("Error parsing fallback user data:",$),localStorage.removeItem("user"),t("/login")}else t("/login")}finally{a(!1)}};n.useEffect(()=>{b()},[t]);const c=l=>(l==null?void 0:l.toLowerCase())==="active"?"success":"error",E=l=>(l==null?void 0:l.toLowerCase())==="active"?e.jsx(re,{}):e.jsx(te,{}),S=l=>({superadmin:"red",admin:"blue",employee:"green",user:"green",manager:"orange",moderator:"purple"})[l==null?void 0:l.toLowerCase()]||"default",N=()=>{b()},_=()=>{r?(h.setFieldsValue({name:r.name,email:r.email,mobile:r.mobile||"",role:r.role,status:r.status}),m(!0)):H.error("User data not loaded yet. Please try refreshing.")},V=async()=>{var l,x;try{j(!0);const p=await h.validateFields();p.password||delete p.password;const $=await Y.put(`/api/users/${r._id}`,p);o($.data),localStorage.setItem("user",JSON.stringify($.data)),H.success("Profile updated successfully!"),m(!1)}catch(p){console.error("Error updating profile:",p),H.error(((x=(l=p==null?void 0:p.response)==null?void 0:l.data)==null?void 0:x.message)||"Failed to update profile. Please try again.")}finally{j(!1)}};return s?e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",flexDirection:"column",gap:"16px"},children:[e.jsx(Pe,{size:"large"}),e.jsx(le.Text,{type:"secondary",children:"Loading your profile..."})]}):i&&!r?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",padding:"20px"},children:e.jsxs(F,{style:{maxWidth:"400px",textAlign:"center"},children:[e.jsx(U,{message:"Profile Load Error",description:i,type:"error",showIcon:!0,style:{marginBottom:"16px"}}),e.jsxs(y,{children:[e.jsx(O,{type:"primary",style:{backgroundColor:"#ef7a1b",borderColor:"#orange",color:"white"},onClick:N,icon:e.jsx(se,{}),children:"Retry"}),e.jsx(O,{onClick:()=>t("/login"),children:"Back to Login"})]})]})}):r?e.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px"},children:e.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[e.jsx(F,{style:{marginBottom:"24px",borderRadius:"16px",border:"none"},children:e.jsxs(Q,{align:"middle",gutter:24,children:[e.jsx(z,{children:e.jsx(Le,{size:80,style:{backgroundColor:"#ef7a1b",fontSize:"32px"},children:r.name?r.name.charAt(0).toUpperCase():e.jsx(T,{})})}),e.jsxs(z,{flex:1,children:[e.jsx(ur,{level:2,style:{margin:0,color:"#ef7a1b"},children:r.name}),e.jsx(v,{type:"secondary",style:{fontSize:"16px"},children:"Welcome back to your profile"})]}),e.jsx(z,{children:e.jsxs(y,{children:[e.jsx(O,{type:"default",icon:e.jsx(se,{}),size:"large",onClick:N,style:{borderRadius:"8px"},title:"Refresh Profile"}),e.jsx(O,{type:"default",icon:e.jsx(Z,{}),size:"large",onClick:_,style:{borderRadius:"8px"},children:"Edit Profile"})]})})]})}),e.jsxs(F,{title:e.jsxs(y,{children:[e.jsx(ar,{}),e.jsx("span",{children:"Profile Information"})]}),style:{borderRadius:"16px",border:"none"},headStyle:{borderBottom:"2px solid #f0f0f0",fontSize:"18px",fontWeight:"600"},children:[e.jsxs(Q,{gutter:[24,24],children:[e.jsx(z,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"FULL NAME"}),e.jsxs("div",{style:{marginTop:"4px",display:"flex",alignItems:"center"},children:[e.jsx(T,{style:{marginRight:"8px",color:"#ef7a1b"}}),e.jsx(v,{style:{fontSize:"16px"},children:r.name})]})]})}),e.jsx(z,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"EMAIL ADDRESS"}),e.jsxs("div",{style:{marginTop:"4px",display:"flex",alignItems:"center"},children:[e.jsx(oe,{style:{marginRight:"8px",color:"#52c41a"}}),e.jsx(v,{style:{fontSize:"16px"},children:r.email})]})]})}),e.jsx(z,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"MOBILE NUMBER"}),e.jsxs("div",{style:{marginTop:"4px",display:"flex",alignItems:"center"},children:[e.jsx(ne,{style:{marginRight:"8px",color:"#52c41a"}}),e.jsx(v,{style:{fontSize:"16px"},children:r.mobile||"Not provided"}),r.mobile&&e.jsx(W,{color:"success",size:"small",style:{marginLeft:"8px",borderRadius:"4px"},children:"Verified"})]})]})}),e.jsx(z,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"ROLE"}),e.jsx("div",{style:{marginTop:"4px"},children:e.jsx(W,{icon:e.jsx(k,{}),color:S(r.role),style:{fontSize:"14px",padding:"4px 12px",borderRadius:"6px",textTransform:"capitalize"},children:r.role})})]})}),e.jsx(z,{xs:24,sm:12,children:e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(v,{strong:!0,style:{color:"#666",fontSize:"14px"},children:"STATUS"}),e.jsx("div",{style:{marginTop:"4px"},children:e.jsx(W,{icon:E(r.status),color:c(r.status),style:{fontSize:"14px",padding:"4px 12px",borderRadius:"6px",textTransform:"capitalize"},children:r.status})})]})})]}),e.jsx(De,{}),e.jsx("div",{style:{textAlign:"center",paddingTop:"16px"},children:e.jsxs(y,{direction:"vertical",size:4,children:[e.jsxs(v,{type:"secondary",style:{fontSize:"14px"},children:["Profile last updated:"," ",r.updatedAt?new Date(r.updatedAt).toLocaleString():new Date().toLocaleDateString()]}),i&&e.jsx(U,{message:"Some data may be outdated",type:"warning",size:"small",showIcon:!0,style:{marginTop:"8px"}})]})})]}),e.jsx(Ue,{title:e.jsxs(y,{children:[e.jsx(Z,{}),e.jsx("span",{children:"Edit Profile"})]}),open:f,onClose:()=>m(!1),width:480,destroyOnClose:!0,extra:e.jsxs(y,{children:[e.jsx(O,{onClick:()=>m(!1),children:"Cancel"}),e.jsx(O,{type:"primary",style:{backgroundColor:"#ef7a1b",borderColor:"#orange",color:"white"},icon:e.jsx(_e,{}),loading:g,onClick:V,children:"Save Changes"})]}),children:e.jsxs(w,{form:h,layout:"vertical",requiredMark:"optional",children:[e.jsx(w.Item,{name:"name",label:"Full Name",rules:[{required:!0,message:"Please enter full name"},{min:2,message:"Name must be at least 2 characters"}],children:e.jsx(A,{prefix:e.jsx(T,{}),placeholder:"Enter full name",size:"large"})}),e.jsx(w.Item,{name:"email",label:"Email Address",rules:[{required:!0,message:"Please enter email address"},{type:"email",message:"Please enter a valid email"}],children:e.jsx(A,{prefix:e.jsx(oe,{}),placeholder:"Enter email address",size:"large"})}),e.jsx(w.Item,{name:"mobile",label:"Mobile Number",rules:[{pattern:/^[0-9]{10}$/,message:"Please enter a valid 10-digit mobile number"}],children:e.jsx(A,{prefix:e.jsx(ne,{}),placeholder:"Enter mobile number",size:"large",style:{color:"#52c41a"}})}),e.jsx(w.Item,{name:"password",label:"New Password (Optional)",rules:[{min:6,message:"Password must be at least 6 characters"}],children:e.jsx(A.Password,{placeholder:"Leave blank to keep current password",size:"large"})}),e.jsx(w.Item,{name:"role",label:"Role",children:e.jsxs(P,{placeholder:"Select role",size:"large",disabled:(r==null?void 0:r.role)!=="Superadmin",suffixIcon:e.jsx(k,{}),children:[e.jsx(P.Option,{value:"Superadmin",children:e.jsxs(y,{children:[e.jsx(k,{style:{color:"#ff4d4f"}}),e.jsx("span",{children:"Superadmin"})]})}),e.jsx(P.Option,{value:"Admin",children:e.jsxs(y,{children:[e.jsx(k,{style:{color:"#ef7a1b"}}),e.jsx("span",{children:"Admin"})]})}),e.jsx(P.Option,{value:"Employee",children:e.jsxs(y,{children:[e.jsx(k,{style:{color:"#52c41a"}}),e.jsx("span",{children:"Employee"})]})})]})}),e.jsx(w.Item,{name:"status",label:"Status",children:e.jsxs(P,{placeholder:"Select status",size:"large",disabled:(r==null?void 0:r.role)!=="Superadmin",children:[e.jsx(P.Option,{value:"Active",children:e.jsxs(y,{children:[e.jsx(re,{style:{color:"#52c41a"}}),e.jsx("span",{children:"Active"})]})}),e.jsx(P.Option,{value:"Inactive",children:e.jsxs(y,{children:[e.jsx(te,{style:{color:"#ff4d4f"}}),e.jsx("span",{children:"Inactive"})]})})]})}),e.jsx(U,{message:"Profile Update",description:(r==null?void 0:r.role)!=="Superadmin"?"Role and Status can only be changed by Superadmin users.":"You can update all profile fields including role and status.",type:"info",showIcon:!0,style:{marginTop:"16px"}})]})})]})}):e.jsxs("div",{style:{textAlign:"center",marginTop:"50px",color:"#999"},children:[e.jsx(T,{style:{fontSize:"48px",marginBottom:"16px"}}),e.jsx("div",{children:"Unable to load profile data. Please log in again."}),e.jsx(O,{type:"primary",style:{marginTop:"16px",backgroundColor:"#ef7a1b",borderColor:"#orange",color:"white"},onClick:()=>t("/login"),children:"Back to Login"})]})};export{kr as default};
