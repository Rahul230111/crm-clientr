import{r as x,V as I,n as e,T as V,B as G,D as de}from"./index-DFkeGJve.js";import{i as ce,R as f,C as d}from"./axios-CXM2YcLm.js";import{d as ue,D as me}from"./index-B5qbg8CL.js";import{F as i}from"./index-oCTpfyYp.js";import{t as ve}from"./index-BzJHIr55.js";import{C as Y}from"./index-BxobYtMX.js";import{D as O}from"./index-83aYk6oH.js";import{S as Q}from"./index-BXtwvscy.js";import{I as y}from"./index-Dna1ZuSU.js";import{T as U}from"./index-DzANuCSF.js";import{R as we}from"./DeleteOutlined-BH5Qblkw.js";import{R as Be}from"./MinusCircleOutlined-B5YXsg3Z.js";import{R as Pe}from"./index-aFscFpMp.js";import{R as Re}from"./SaveOutlined-2RfYnZ4e.js";const Ge=t=>({quotationCard:{borderRadius:t.borderRadiusXL,border:`1px solid ${t.colorBorderBg}`,backgroundColor:t.colorBgContainer},mainCardTitle:{color:t.colorPrimary,fontSize:t.fontSizeHeading2,fontWeight:t.fontWeightStronger,textAlign:"center",textTransform:"uppercase",letterSpacing:"1px"},businessInfoCard:{background:`linear-gradient(135deg, ${t.colorFillQuaternary} 0%, ${t.colorFillAlter} 100%)`,border:`1px solid ${t.colorBorderSecondary}`,borderRadius:t.borderRadiusLG,minHeight:"80px",boxShadow:t.boxShadowTertiary,display:"flex",alignItems:"center",transition:"all 0.3s ease-in-out","&:hover":{boxShadow:t.boxShadow,transform:"translateY(-2px)"}},businessInfoPre:{margin:0,whiteSpace:"pre-wrap",flexGrow:1,fontFamily:"monospace",fontSize:t.fontSizeSM,color:t.colorTextSecondary,lineHeight:t.lineHeightSM,opacity:.8},formField:{width:"100%",borderRadius:t.borderRadiusSM,borderColor:t.colorBorder,transition:"all 0.2s ease","&:hover":{borderColor:t.colorPrimaryBorder},"&:focus":{boxShadow:`0 0 0 2px ${t.colorPrimaryBorderHover}`}},readOnlyFormField:{width:"100%",color:t.colorTextDisabled,borderRadius:t.borderRadiusSM,background:t.colorFillQuaternary,cursor:"not-allowed"},textAreaField:{width:"100%",marginBottom:t.marginS,borderRadius:t.borderRadiusSM,borderColor:t.colorBorder},readOnlyTextArea:{width:"100%",marginBottom:t.marginS,borderRadius:t.borderRadiusSM,color:t.colorTextDisabled,background:t.colorFillQuaternary,cursor:"not-allowed"},divider:{borderColor:t.colorBorderSecondary,color:t.colorTextTertiary,fontWeight:t.fontWeightStrong},itemCard:{marginBottom:t.marginMD,border:`1px solid ${t.colorBorderSecondary}`,borderRadius:t.borderRadiusLG,backgroundColor:t.colorFillContentBackground,transition:"all 0.2s ease-in-out","&:hover":{boxShadow:t.boxShadowXl,transform:"translateY(-3px)"}},deleteButton:{height:"auto",display:"flex",alignItems:"center",justifyContent:"center",color:t.colorError,"&:hover":{color:t.colorErrorHover,background:t.colorErrorBg}},addButton:{height:"auto",display:"flex",alignItems:"center",justifyContent:"center",color:t.colorPrimary,borderColor:t.colorPrimaryBorder,"&:hover":{color:t.colorPrimaryHover,borderColor:t.colorPrimaryBorderHover,background:t.colorPrimaryBg}},addSpecButton:{marginTop:t.margin,borderRadius:t.borderRadiusSM,borderColor:t.colorBorderDashed,color:t.colorTextSecondary,"&:hover":{color:t.colorPrimaryText,borderColor:t.colorPrimary}},addItemButton:{marginTop:t.marginLG,borderRadius:t.borderRadiusSM,borderColor:t.colorPrimaryBorderDashed,color:t.colorPrimary,"&:hover":{background:t.colorPrimaryBgHover}},specificationRow:{marginBottom:t.marginXXS},summaryRow:{fontWeight:t.fontWeightStrong,borderTop:`1px dashed ${t.colorBorderSecondary}`,paddingTop:t.paddingMD,marginTop:t.marginLG},totalField:{width:"100%",borderRadius:t.borderRadiusSM,textAlign:"right",backgroundColor:t.colorFillTertiary,borderColor:t.colorBorder,color:t.colorText},grandTotalField:{width:"100%",borderRadius:t.borderRadiusSM,color:t.colorSuccess,fontSize:t.fontSizeHeading4,fontWeight:t.fontWeightStronger,textAlign:"right",backgroundColor:t.colorSuccessBg,borderColor:t.colorSuccessBorder},notesCard:{background:t.colorFillQuaternary,marginBottom:t.margin,borderRadius:t.borderRadiusLG,border:`1px solid ${t.colorBorderQuaternary}`},noteText:{margin:0,paddingBottom:t.paddingXXS,color:t.colorTextSecondary,fontSize:t.fontSizeSM,lineHeight:1.5},buttonGroup:{marginTop:t.marginLG,paddingTop:t.paddingMD,borderTop:`1px solid ${t.colorBorderSecondary}`,display:"flex",justifyContent:"flex-end",gap:t.marginSM}}),p=[];for(let t=0;t<256;++t)p.push((t+256).toString(16).slice(1));function Ne(t,m=0){return(p[t[m+0]]+p[t[m+1]]+p[t[m+2]]+p[t[m+3]]+"-"+p[t[m+4]]+p[t[m+5]]+"-"+p[t[m+6]]+p[t[m+7]]+"-"+p[t[m+8]]+p[t[m+9]]+"-"+p[t[m+10]]+p[t[m+11]]+p[t[m+12]]+p[t[m+13]]+p[t[m+14]]+p[t[m+15]]).toLowerCase()}let Z;const De=new Uint8Array(16);function $e(){if(!Z){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Z=crypto.getRandomValues.bind(crypto)}return Z(De)}const Ae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ge={randomUUID:Ae};function B(t,m,g){var b;if(ge.randomUUID&&!t)return ge.randomUUID();t=t||{};const C=t.random??((b=t.rng)==null?void 0:b.call(t))??$e();if(C.length<16)throw new Error("Random bytes length must be >= 16");return C[6]=C[6]&15|64,C[8]=C[8]&63|128,Ne(C)}const{Option:E}=Q,{TextArea:pe}=y,{useToken:Me}=ve,Ve=({onCancel:t,onSave:m,initialValues:g,isSaving:C})=>{const[b]=i.useForm(),[D,xe]=x.useState([]),[k,he]=x.useState([]),[T,P]=x.useState([]),[q,ye]=x.useState([]),[j,ee]=x.useState(null),[$,te]=x.useState(null),[F,H]=x.useState(null),[v,W]=x.useState(null),[S,z]=x.useState(null),{token:w}=Me(),l=Ge(w),_=x.useRef(!1),X=x.useRef(!1),L=x.useCallback(r=>{var s,o;return r?`
${(s=r.businessName)==null?void 0:s.toUpperCase()}
${r.contactName?`Mr. ${(o=r.contactName)==null?void 0:o.toUpperCase()}`:""}
${r.addressLine1||""}${r.addressLine2?", "+r.addressLine2:""}
${r.city||""}${r.pincode?" - "+r.pincode:""}
${r.state||""}, ${r.country||""}
${r.gstNumber||""}
${r.email||""}`.trim():""},[]),re=x.useCallback(async()=>{if(_.current)return;_.current=!0;const r=I.loading("Loading business options...");try{const s=await ce.get("/api/quotations/leads/active");xe(s.data),I.success("Business options loaded",{id:r})}catch(s){I.error("Failed to load businesses",{id:r}),console.error("Error fetching business options:",s),_.current=!1}},[]),se=x.useCallback(async()=>{if(X.current)return;X.current=!0;const r=I.loading("Loading product options...");try{const s=await ce.get("/api/product");he(s.data.map(o=>({...o,productName:o.productName||o.name||"",hsnSac:o.hsnSac||"",quantityType:o.quantityType||"",options:o.options||[],gstPercentage:o.gstPercentage!==void 0?o.gstPercentage:18}))),I.success("Product options loaded",{id:r})}catch(s){I.error("Failed to load products",{id:r}),console.error("Error fetching product options:",s),X.current=!1}},[]);x.useEffect(()=>{var r,s,o,c;if(re(),se(),g){b.setFieldsValue({...g,date:g.date?ue(g.date):null,validUntil:g.validUntil?ue(g.validUntil):null,noteText:"",customerName:g.customerName||"",customerEmail:g.customerEmail||""});const u=(g.items||[]).map(a=>({...a,id:a.id||B(),productName:a.productName||"",gstPercentage:a.gstPercentage!==void 0?a.gstPercentage:18,specifications:(a.specifications||[]).map(h=>({...h,key:h.key||B()}))}));P(u),ye(g.notes||[]),ee(g.gstType||null),te(((r=g.gstDetails)==null?void 0:r.manualGstAmount)||null),H(((s=g.gstDetails)==null?void 0:s.manualSgstPercentage)||null),W(((o=g.gstDetails)==null?void 0:o.manualCgstPercentage)||null);const n=((c=g.businessId)==null?void 0:c._id)||g.businessId;if(n&&D.length>0){const a=D.find(h=>h._id===n);a&&(z(a),b.setFieldsValue({businessId:a._id,businessName:a.businessName,businessType:a.type,gstin:a.gstNumber,businessInfo:L(a)}))}}},[g,re,se,b,L,D]);const fe=async r=>{var ae,ne;if(!T||T.length===0){I.error("At least one item is required.");return}if(!j){I.error("Please select a GST type.");return}for(const M of T)if(M.specifications&&M.specifications.length>0){for(const ie of M.specifications)if(!ie.name.trim()||!ie.value.trim()){I.error("All specification name and value fields must be filled for all items.");return}}const s=new Date().toLocaleString(),o=r.noteText?{text:r.noteText,timestamp:s}:null,c=J(),u=K();let n=0,a=0,h=0,R=0;$!==null?(n=$,j==="intrastate"?(a=n/2,h=n/2):j==="interstate"&&(R=n)):j==="intrastate"&&(F!==null||v!==null)?(a=F!==null?c*(F/100):u.sgst,h=v!==null?c*(v/100):u.cgst,n=a+h,R=0):(n=u.totalGst,a=u.sgst,h=u.cgst,R=u.igst);const Ie=c+n,Fe={...r,date:(ae=r.date)==null?void 0:ae.format("YYYY-MM-DD"),validUntil:(ne=r.validUntil)==null?void 0:ne.format("YYYY-MM-DD"),items:T,notes:o?[...q,o]:q,subTotal:c,tax:n,total:Ie,createdDate:new Date().toLocaleDateString(),gstType:j,gstDetails:{sgst:a,cgst:h,igst:R,calculatedTotalGst:u.totalGst,manualGstAmount:$,manualSgstPercentage:F,manualCgstPercentage:v,finalTaxAmountUsed:n},businessName:S==null?void 0:S.businessName,businessType:S==null?void 0:S.type,gstin:S==null?void 0:S.gstNumber,businessInfo:S?L(S):"",customerName:r.customerName,customerEmail:r.customerEmail};try{await m(Fe)}catch(M){console.error("Error in QuotationForm onFinish:",M)}},be=()=>P(r=>[...r,{id:B(),productId:null,productName:"",description:"",hsnSac:"",quantity:1,rate:0,quantityType:"",gstPercentage:18,specifications:[{key:B(),name:"",value:""}]}]),je=r=>P(T.filter(s=>s.id!==r)),N=(r,s,o)=>{P(c=>c.map(u=>{if(u.id===r){if(s==="productId"){const n=k.find(a=>a._id===o);if(n){let a=u.specifications||[];const h=a.length===0||a.length===1&&a[0].name===""&&a[0].value==="";return n.options&&n.options.length>0&&h?a=n.options.map(R=>({key:B(),name:R.type||"",value:R.description||""})):(!n.options||n.options.length===0)&&a.length===0&&(a=[{key:B(),name:"",value:""}]),{...u,productId:o,productName:n.productName||n.name||"",description:n.description||"",hsnSac:n.hsnSac||"",rate:n.price||0,quantityType:n.quantityType||"",gstPercentage:n.gstPercentage!==void 0?n.gstPercentage:u.gstPercentage,specifications:a}}else return{...u,productId:null,productName:"",description:"",hsnSac:"",rate:0,quantityType:"",gstPercentage:18,specifications:[{key:B(),name:"",value:""}]}}return{...u,[s]:o}}return u}))},oe=r=>{P(s=>s.map(o=>o.id===r?{...o,specifications:[...o.specifications||[],{key:B(),name:"",value:""}]}:o))},Se=(r,s)=>{P(o=>o.map(c=>c.id===r?{...c,specifications:(c.specifications||[]).filter(u=>u.key!==s)}:c))},le=(r,s,o,c)=>{P(u=>u.map(n=>n.id===r?{...n,specifications:(n.specifications||[]).map(a=>a.key===s?{...a,[o]:c}:a)}:n))},J=()=>T.reduce((r,s)=>r+(s.quantity||0)*(s.rate||0),0),K=()=>{let r=T.reduce((u,n)=>{const a=(n.quantity||0)*(n.rate||0),h=(n.gstPercentage||0)/100;return u+a*h},0),s=0,o=0,c=0;return j==="intrastate"?(s=r/2,o=r/2):j==="interstate"&&(c=r),{totalGst:r,sgst:s,cgst:o,igst:c}},Ce=()=>{const r=J(),s=K();let o=0;if($!==null)o=$;else if(j==="intrastate"&&(F!==null||v!==null)){const c=F!==null?r*(F/100):s.sgst,u=v!==null?r*(v/100):s.cgst;o=c+u}else o=s.totalGst;return r+o},Te=r=>{const s=D.find(o=>o._id===r);if(s){z(s);const o=L(s);b.setFieldsValue({businessId:s._id,businessName:s.businessName,businessType:s.type,gstin:s.gstNumber,businessInfo:o})}else z(null),b.setFieldsValue({businessId:null,businessName:null,businessType:null,gstin:null,businessInfo:""})},A=K();return e.jsx(Y,{title:e.jsx("span",{style:l.mainCardTitle,children:g?"Edit Quotation":"Create New Quotation"}),loading:C,style:l.quotationCard,children:e.jsxs(i,{form:b,layout:"vertical",onFinish:fe,children:[e.jsx(O,{style:l.divider,children:"Business Details"}),e.jsxs(f,{gutter:[16,24],children:[e.jsxs(d,{xs:24,md:12,children:[e.jsx(i.Item,{label:"Business Name",name:"businessId",rules:[{required:!0,message:"Please select a business!"}],children:e.jsx(Q,{placeholder:"Select business",showSearch:!0,optionFilterProp:"children",filterOption:(r,s)=>((s==null?void 0:s.children)||"").toLowerCase().includes(r.toLowerCase()),onChange:Te,allowClear:!0,style:l.formField,children:D.map(r=>e.jsx(E,{value:r._id,children:r.businessName},r._id))})}),e.jsx(i.Item,{name:"businessName",hidden:!0,children:e.jsx(y,{})})]}),e.jsx(d,{xs:24,md:12,children:e.jsx(i.Item,{name:"businessType",label:"Type",children:e.jsx(y,{readOnly:!0,style:l.readOnlyFormField})})})]}),e.jsx(f,{gutter:[16],children:e.jsx(d,{xs:24,md:12,children:e.jsx(i.Item,{label:"Business Info",children:e.jsx(Y,{bordered:!0,style:l.businessInfoCard,children:e.jsx("pre",{style:l.businessInfoPre,children:b.getFieldValue("businessInfo")||"Select a business to view details..."})})})})}),e.jsx(O,{style:l.divider,children:"Quotation Validate Date"}),e.jsxs(f,{gutter:[16,24],children:[e.jsx(d,{xs:24,md:12,children:e.jsx(i.Item,{name:"date",label:"Date",rules:[{required:!0,message:"Please select a date!"}],children:e.jsx(me,{style:l.formField,format:"DD/MM/YYYY"})})}),e.jsx(d,{xs:24,md:12,children:e.jsx(i.Item,{name:"validUntil",label:"Valid Until",children:e.jsx(me,{style:l.formField,format:"DD/MM/YYYY"})})})]}),e.jsx(O,{style:l.divider,children:"Quotation Items"}),T.map(r=>e.jsxs(Y,{style:l.itemCard,size:"small",children:[e.jsxs(f,{gutter:[16,16],align:"middle",children:[e.jsx(d,{xs:12,sm:8,children:e.jsx(i.Item,{label:"Product Name",children:e.jsx(Q,{placeholder:"Search or select a product",showSearch:!0,optionFilterProp:"children",filterOption:(s,o)=>((o==null?void 0:o.children)||"").toLowerCase().includes(s.toLowerCase()),onChange:s=>N(r.id,"productId",s),value:r.productId,style:l.formField,allowClear:!0,children:k.map(s=>e.jsx(E,{value:s._id,children:s.productName||s.name},s._id))})})}),e.jsx(d,{xs:12,sm:8,children:e.jsx(i.Item,{label:"Quantity",children:e.jsx(U,{placeholder:"1",value:r.quantity,onChange:s=>N(r.id,"quantity",s),style:l.formField,min:0})})}),e.jsx(d,{xs:12,sm:8,children:e.jsx(i.Item,{label:"Price (per unit)",children:e.jsx(U,{prefix:"₹",value:r.rate,onChange:s=>N(r.id,"rate",s),style:l.formField,min:0,precision:2})})}),e.jsx(d,{xs:14,sm:6,style:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:T.length>1&&e.jsx(V,{title:"Remove Item",children:e.jsx(G,{icon:e.jsx(we,{}),danger:!0,onClick:()=>je(r.id),type:"text",style:l.deleteButton})})})]}),e.jsxs(f,{gutter:[16,16],style:{marginTop:w.marginS},children:[e.jsx(d,{xs:14,sm:8,children:e.jsx(i.Item,{label:"Description",children:e.jsx(pe,{placeholder:"Detailed description of the item",value:r.description,onChange:s=>N(r.id,"description",s.target.value),rows:2})})}),e.jsx(d,{xs:14,sm:8,children:e.jsx(i.Item,{label:"HSN/SAC Code",children:e.jsx(y,{placeholder:"HSN/SAC",value:r.hsnSac,onChange:s=>N(r.id,"hsnSac",s.target.value)})})}),e.jsx(d,{xs:24,sm:8,children:e.jsx(i.Item,{label:"Item Total",children:e.jsx(y,{value:`₹${((r.quantity||0)*(r.rate||0)).toFixed(2)}`,readOnly:!0,style:l.totalItemField})})})]}),e.jsx(f,{gutter:[16,16],style:{marginTop:w.marginS},children:e.jsx(d,{xs:24,sm:8,children:e.jsx(i.Item,{label:"GST %",children:e.jsx(U,{placeholder:"e.g., 18",value:r.gstPercentage,onChange:s=>N(r.id,"gstPercentage",s),style:{...l.formField,backgroundColor:w.colorFillAlter,borderColor:w.colorPrimary,borderWidth:"2px",fontWeight:"bold"},min:0,max:100,formatter:s=>`${s}%`,parser:s=>s.replace("%","")})})})}),r.specifications&&r.specifications.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(O,{orientation:"left",style:l.specificationDivider,children:"Specifications"}),r.specifications.map((s,o)=>e.jsxs(f,{gutter:16,style:l.specificationRow,align:"middle",children:[e.jsx(d,{xs:24,sm:10,children:e.jsx(i.Item,{label:"Specification Name",children:e.jsx(y,{placeholder:"e.g., Color",value:s.name,onChange:c=>le(r.id,s.key,"name",c.target.value),style:l.formField})})}),e.jsx(d,{xs:24,sm:10,children:e.jsx(i.Item,{label:"Specification Value",children:e.jsx(y,{placeholder:"e.g., Blue",value:s.value,onChange:c=>le(r.id,s.key,"value",c.target.value),style:l.formField})})}),e.jsx(d,{xs:24,sm:4,children:e.jsxs(de,{children:[r.specifications.length>1&&e.jsx(V,{title:"Remove Specification",children:e.jsx(G,{icon:e.jsx(Be,{}),onClick:()=>Se(r.id,s.key),type:"text",danger:!0,style:l.deleteButton})}),o===r.specifications.length-1&&e.jsx(V,{title:"Add New Specification",children:e.jsx(G,{icon:e.jsx(Pe,{}),onClick:()=>oe(r.id),type:"dashed",style:l.addButton})})]})})]},s.key))]}),(!r.specifications||r.specifications.length===0||r.specifications.length>0&&r.specifications[r.specifications.length-1].name&&r.specifications[r.specifications.length-1].value)&&e.jsx(G,{onClick:()=>oe(r.id),block:!0,type:"dashed",style:l.addSpecButton,children:"+ Add Specification"})]},r.id)),e.jsx(G,{onClick:be,block:!0,type:"dashed",style:l.addItemButton,children:"+ Add Another Item"}),e.jsx(O,{style:l.divider,children:"Quotation Summary"}),e.jsxs(f,{gutter:[16,16],children:[e.jsx(d,{xs:24,md:12,children:e.jsx(i.Item,{name:"gstType",label:"GST Type",rules:[{required:!0,message:"Please select a GST type!"}],children:e.jsxs(Q,{placeholder:"Select GST calculation type",onChange:r=>{ee(r),te(null),H(null),W(null),b.setFieldsValue({manualGst:null,manualSgst:null,manualCgst:null})},value:j,style:l.formField,children:[e.jsx(E,{value:"interstate",children:"Interstate - IGST"}),e.jsx(E,{value:"intrastate",children:"Intrastate - SGST/CGST"})]})})}),e.jsx(d,{xs:24,md:12,children:e.jsx(i.Item,{label:"Sub Total",children:e.jsx(y,{readOnly:!0,value:`₹${J().toFixed(2)}`,style:l.totalField})})})]}),j==="intrastate"&&e.jsxs(e.Fragment,{children:[e.jsxs(f,{gutter:[16,16],children:[e.jsx(d,{xs:24,sm:8,children:e.jsx(i.Item,{label:"Calculated SGST",children:e.jsx(y,{readOnly:!0,value:`₹${A.sgst.toFixed(2)}`,style:l.totalField})})}),e.jsx(d,{xs:24,sm:8,children:e.jsx(i.Item,{label:"Calculated CGST",children:e.jsx(y,{readOnly:!0,value:`₹${A.cgst.toFixed(2)}`,style:l.totalField})})}),e.jsx(d,{xs:24,sm:8,children:e.jsx(i.Item,{label:"Calculated Total GST",children:e.jsx(y,{readOnly:!0,value:`₹${A.totalGst.toFixed(2)}`,style:l.totalField})})})]}),e.jsxs(f,{gutter:[16,16],children:[e.jsx(d,{xs:24,sm:8,children:e.jsxs(i.Item,{label:"Manual SGST %",children:[" ",e.jsx(U,{value:F,onChange:r=>H(r),style:{...l.formField,backgroundColor:w.colorFillAlter,borderWidth:"2px",fontWeight:"bold"},min:0,max:100,precision:2,formatter:r=>`${r}%`,parser:r=>r.replace("%",""),placeholder:"Override SGST %"})]})}),e.jsx(d,{xs:24,sm:8,children:e.jsxs(i.Item,{label:"Manual CGST %",children:[" ",e.jsx(U,{value:v,onChange:r=>W(r),style:{...l.formField,backgroundColor:w.colorFillAlter,borderWidth:"2px",fontWeight:"bold"},min:0,max:100,precision:2,formatter:r=>`${r}%`,parser:r=>r.replace("%",""),placeholder:"Override CGST %"})]})})]})]}),j==="interstate"&&e.jsxs(f,{gutter:[16,16],children:[e.jsx(d,{xs:24,sm:12,children:e.jsx(i.Item,{label:"Calculated IGST",children:e.jsx(y,{readOnly:!0,value:`₹${A.igst.toFixed(2)}`,style:l.totalField})})}),e.jsx(d,{xs:24,sm:12,children:e.jsx(i.Item,{label:"Calculated Total GST",children:e.jsx(y,{readOnly:!0,value:`₹${A.totalGst.toFixed(2)}`,style:l.totalField})})})]}),e.jsxs(f,{gutter:[16,16],style:{marginTop:w.margin},children:[e.jsx(d,{xs:24,md:12,children:e.jsx(i.Item,{label:"Grand Total",children:e.jsx(y,{readOnly:!0,value:`₹${Ce().toFixed(2)}`,style:l.grandTotalField})})}),e.jsx(d,{xs:24,md:12,children:e.jsx(i.Item,{name:"noteText",label:"Add New Note",children:e.jsx(pe,{rows:3,style:l.textAreaField,placeholder:"Add any additional notes, terms, or conditions for this quotation..."})})})]}),q.length>0&&e.jsx(i.Item,{label:"Existing Notes",children:e.jsx(Y,{style:l.notesCard,children:q.map((r,s)=>e.jsxs("p",{style:l.noteText,children:[e.jsxs("strong",{children:[r.timestamp,":"]})," ",r.text]},s))})}),e.jsx(i.Item,{style:l.buttonGroup,children:e.jsxs(de,{size:"middle",children:[e.jsx(G,{onClick:t,disabled:C,size:"large",children:"Cancel"}),e.jsx(G,{htmlType:"submit",type:"primary",icon:e.jsx(Re,{}),loading:C,size:"large",children:"Save Quotation"})]})})]})})};export{Ve as default};
