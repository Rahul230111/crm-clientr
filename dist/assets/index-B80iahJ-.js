import{r as l,i as I,R as y,a6 as Le,B as te,aT as ze,aU as ne,aV as We,C as _,a3 as oe,d as w,a4 as Ae,aR as He,aW as De,a5 as R,aX as Ve,u as Z,ac as qe,aI as le,aD as Xe,aF as Qe,aJ as Ze,aH as Ge,ak as Ue,aY as Ye}from"./index-3j2E7pUL.js";import{a as Je,b as Ke}from"./index-CsUGJ7YV.js";import{u as z,a as se,S as et,R as tt}from"./TextArea-DELUlYzR.js";import{R as nt}from"./InfoCircleFilled-DSywJBHM.js";import{A as re}from"./ActionButton-RId_fRI3.js";import{u as ae,D as ot,p as lt,a as st,P as rt}from"./index-Dgbp67W9.js";import{u as at,p as G}from"./useClosable-CC1Ls4ip.js";import{u as ct}from"./context-DJnMqWkY.js";function it(){const[e,n]=l.useState([]),s=l.useCallback(t=>(n(o=>[].concat(I(o),[t])),()=>{n(o=>o.filter(c=>c!==t))}),[]);return[e,s]}const k=y.createContext({}),{Provider:ce}=k,U=()=>{const{autoFocusButton:e,cancelButtonProps:n,cancelTextLocale:s,isSilent:t,mergedOkCancel:o,rootPrefixCls:c,close:d,onCancel:i,onConfirm:a}=l.useContext(k);return o?y.createElement(re,{isSilent:t,actionFn:i,close:(...u)=>{d==null||d.apply(void 0,u),a==null||a(!1)},autoFocus:e==="cancel",buttonProps:n,prefixCls:`${c}-btn`},s):null},Y=()=>{const{autoFocusButton:e,close:n,isSilent:s,okButtonProps:t,rootPrefixCls:o,okTextLocale:c,okType:d,onConfirm:i,onOk:a}=l.useContext(k);return y.createElement(re,{isSilent:s,type:d||"primary",actionFn:a,close:(...u)=>{n==null||n.apply(void 0,u),i==null||i(!0)},autoFocus:e==="ok",buttonProps:t,prefixCls:`${o}-btn`},c)},ut=()=>Le()&&window.document.documentElement,J=()=>{const{cancelButtonProps:e,cancelTextLocale:n,onCancel:s}=l.useContext(k);return y.createElement(te,Object.assign({onClick:s},e),n)},K=()=>{const{confirmLoading:e,okButtonProps:n,okType:s,okTextLocale:t,onOk:o}=l.useContext(k);return y.createElement(te,Object.assign({},ze(s),{loading:e,onClick:o},n),t)};function ie(e,n){return y.createElement("span",{className:`${e}-close-x`},n||y.createElement(se,{className:`${e}-close-icon`}))}const ue=e=>{const{okText:n,okType:s="primary",cancelText:t,confirmLoading:o,onOk:c,onCancel:d,okButtonProps:i,cancelButtonProps:a,footer:u}=e,[r]=z("Modal",ne()),f=n||(r==null?void 0:r.okText),v=t||(r==null?void 0:r.cancelText),C={confirmLoading:o,okButtonProps:i,cancelButtonProps:a,okTextLocale:f,cancelTextLocale:v,okType:s,onOk:c,onCancel:d},p=y.useMemo(()=>C,I(Object.values(C)));let m;return typeof u=="function"||typeof u>"u"?(m=y.createElement(y.Fragment,null,y.createElement(J,null),y.createElement(K,null)),typeof u=="function"&&(m=u(m,{OkBtn:K,CancelBtn:J})),m=y.createElement(ce,{value:p},m)):m=u,y.createElement(We,{disabled:!1},m)};var dt=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};let L;const ft=e=>{L={x:e.pageX,y:e.pageY},setTimeout(()=>{L=null},100)};ut()&&document.documentElement.addEventListener("click",ft,!0);const de=e=>{const{prefixCls:n,className:s,rootClassName:t,open:o,wrapClassName:c,centered:d,getContainer:i,focusTriggerAfterClose:a=!0,style:u,visible:r,width:f=520,footer:v,classNames:C,styles:p,children:m,loading:x,confirmLoading:g,zIndex:b,mousePosition:P,onOk:N,onCancel:j,destroyOnHidden:h,destroyOnClose:Pe}=e,he=dt(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose"]),{getPopupContainer:$e,getPrefixCls:W,direction:Ee,modal:O}=l.useContext(_),A=T=>{g||j==null||j(T)},je=T=>{N==null||N(T)},$=W("modal",n),H=W(),D=oe($),[Te,V,we]=ae($,D),Ie=w(c,{[`${$}-centered`]:d??(O==null?void 0:O.centered),[`${$}-wrap-rtl`]:Ee==="rtl"}),Ne=v!==null&&!x?l.createElement(ue,Object.assign({},e,{onOk:je,onCancel:A})):null,[q,X,Se,ke]=at(G(e),G(O),{closable:!0,closeIcon:l.createElement(se,{className:`${$}-close-icon`}),closeIconRender:T=>ie($,T)}),Me=ct(`.${$}-content`),[Fe,Be]=Ae("Modal",b),[Re,F]=l.useMemo(()=>f&&typeof f=="object"?[void 0,f]:[f,void 0],[f]),_e=l.useMemo(()=>{const T={};return F&&Object.keys(F).forEach(Q=>{const B=F[Q];B!==void 0&&(T[`--${$}-${Q}-width`]=typeof B=="number"?`${B}px`:B)}),T},[F]);return Te(l.createElement(He,{form:!0,space:!0},l.createElement(De.Provider,{value:Be},l.createElement(ot,Object.assign({width:Re},he,{zIndex:Fe,getContainer:i===void 0?$e:i,prefixCls:$,rootClassName:w(V,t,we,D),footer:Ne,visible:o??r,mousePosition:P??L,onClose:A,closable:q&&Object.assign({disabled:Se,closeIcon:X},ke),closeIcon:X,focusTriggerAfterClose:a,transitionName:R(H,"zoom",e.transitionName),maskTransitionName:R(H,"fade",e.maskTransitionName),className:w(V,s,O==null?void 0:O.className),style:Object.assign(Object.assign(Object.assign({},O==null?void 0:O.style),u),_e),classNames:Object.assign(Object.assign(Object.assign({},O==null?void 0:O.classNames),C),{wrapper:w(Ie,C==null?void 0:C.wrapper)}),styles:Object.assign(Object.assign({},O==null?void 0:O.styles),p),panelRef:Me,destroyOnClose:h??Pe}),x?l.createElement(et,{active:!0,title:!1,paragraph:{rows:4},className:`${$}-body-skeleton`}):m))))},mt=e=>{const{componentCls:n,titleFontSize:s,titleLineHeight:t,modalConfirmIconSize:o,fontSize:c,lineHeight:d,modalTitleHeight:i,fontHeight:a,confirmBodyPadding:u}=e,r=`${n}-confirm`;return{[r]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${r}-body-wrapper`]:Object.assign({},qe()),[`&${n} ${n}-body`]:{padding:u},[`${r}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(a).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(i).sub(o).equal()).div(2).equal()}},[`${r}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${Z(e.marginSM)})`},[`${e.iconCls} + ${r}-paragraph`]:{maxWidth:`calc(100% - ${Z(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${r}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:s,lineHeight:t},[`${r}-content`]:{color:e.colorText,fontSize:c,lineHeight:d},[`${r}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${r}-error ${r}-body > ${e.iconCls}`]:{color:e.colorError},[`${r}-warning ${r}-body > ${e.iconCls},
        ${r}-confirm ${r}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${r}-info ${r}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${r}-success ${r}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},Ct=Ve(["Modal","confirm"],e=>{const n=lt(e);return[mt(n)]},st,{order:-1e3});var gt=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};function fe(e){const{prefixCls:n,icon:s,okText:t,cancelText:o,confirmPrefixCls:c,type:d,okCancel:i,footer:a,locale:u}=e,r=gt(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=s;if(!s&&s!==null)switch(d){case"info":f=l.createElement(nt,null);break;case"success":f=l.createElement(Ke,null);break;case"error":f=l.createElement(tt,null);break;default:f=l.createElement(Je,null)}const v=i??d==="confirm",C=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[p]=z("Modal"),m=u||p,x=t||(v?m==null?void 0:m.okText:m==null?void 0:m.justOkText),g=o||(m==null?void 0:m.cancelText),b=Object.assign({autoFocusButton:C,cancelTextLocale:g,okTextLocale:x,mergedOkCancel:v},r),P=l.useMemo(()=>b,I(Object.values(b))),N=l.createElement(l.Fragment,null,l.createElement(U,null),l.createElement(Y,null)),j=e.title!==void 0&&e.title!==null,h=`${c}-body`;return l.createElement("div",{className:`${c}-body-wrapper`},l.createElement("div",{className:w(h,{[`${h}-has-title`]:j})},f,l.createElement("div",{className:`${c}-paragraph`},j&&l.createElement("span",{className:`${c}-title`},e.title),l.createElement("div",{className:`${c}-content`},e.content))),a===void 0||typeof a=="function"?l.createElement(ce,{value:P},l.createElement("div",{className:`${c}-btns`},typeof a=="function"?a(N,{OkBtn:Y,CancelBtn:U}):N)):a,l.createElement(Ct,{prefixCls:n}))}const vt=e=>{const{close:n,zIndex:s,maskStyle:t,direction:o,prefixCls:c,wrapClassName:d,rootPrefixCls:i,bodyStyle:a,closable:u=!1,onConfirm:r,styles:f}=e,v=`${c}-confirm`,C=e.width||416,p=e.style||{},m=e.mask===void 0?!0:e.mask,x=e.maskClosable===void 0?!1:e.maskClosable,g=w(v,`${v}-${e.type}`,{[`${v}-rtl`]:o==="rtl"},e.className),[,b]=Xe(),P=l.useMemo(()=>s!==void 0?s:b.zIndexPopupBase+Qe,[s,b]);return l.createElement(de,Object.assign({},e,{className:g,wrapClassName:w({[`${v}-centered`]:!!e.centered},d),onCancel:()=>{n==null||n({triggerCancel:!0}),r==null||r(!1)},title:"",footer:null,transitionName:R(i||"","zoom",e.transitionName),maskTransitionName:R(i||"","fade",e.maskTransitionName),mask:m,maskClosable:x,style:p,styles:Object.assign({body:a,mask:t},f),width:C,zIndex:P,closable:u}),l.createElement(fe,Object.assign({},e,{confirmPrefixCls:v})))},me=e=>{const{rootPrefixCls:n,iconPrefixCls:s,direction:t,theme:o}=e;return l.createElement(le,{prefixCls:n,iconPrefixCls:s,direction:t,theme:o},l.createElement(vt,Object.assign({},e)))},S=[];let Ce="";function ge(){return Ce}const bt=e=>{var n,s;const{prefixCls:t,getContainer:o,direction:c}=e,d=ne(),i=l.useContext(_),a=ge()||i.getPrefixCls(),u=t||`${a}-modal`;let r=o;return r===!1&&(r=void 0),y.createElement(me,Object.assign({},e,{rootPrefixCls:a,prefixCls:u,iconPrefixCls:i.iconPrefixCls,theme:i.theme,direction:c??i.direction,locale:(s=(n=i.locale)===null||n===void 0?void 0:n.Modal)!==null&&s!==void 0?s:d,getContainer:r}))};function M(e){const n=Ze(),s=document.createDocumentFragment();let t=Object.assign(Object.assign({},e),{close:a,open:!0}),o,c;function d(...r){var f;if(r.some(p=>p==null?void 0:p.triggerCancel)){var C;(f=e.onCancel)===null||f===void 0||(C=f).call.apply(C,[e,()=>{}].concat(I(r.slice(1))))}for(let p=0;p<S.length;p++)if(S[p]===a){S.splice(p,1);break}c()}function i(r){clearTimeout(o),o=setTimeout(()=>{const f=n.getPrefixCls(void 0,ge()),v=n.getIconPrefixCls(),C=n.getTheme(),p=y.createElement(bt,Object.assign({},r));c=Ge()(y.createElement(le,{prefixCls:f,iconPrefixCls:v,theme:C},n.holderRender?n.holderRender(p):p),s)})}function a(...r){t=Object.assign(Object.assign({},t),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),d.apply(this,r)}}),t.visible&&delete t.visible,i(t)}function u(r){typeof r=="function"?t=r(t):t=Object.assign(Object.assign({},t),r),i(t)}return i(t),S.push(a),{destroy:a,update:u}}function ve(e){return Object.assign(Object.assign({},e),{type:"warning"})}function be(e){return Object.assign(Object.assign({},e),{type:"info"})}function pe(e){return Object.assign(Object.assign({},e),{type:"success"})}function xe(e){return Object.assign(Object.assign({},e),{type:"error"})}function ye(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function pt({rootPrefixCls:e}){Ce=e}var xt=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const yt=(e,n)=>{var s,{afterClose:t,config:o}=e,c=xt(e,["afterClose","config"]);const[d,i]=l.useState(!0),[a,u]=l.useState(o),{direction:r,getPrefixCls:f}=l.useContext(_),v=f("modal"),C=f(),p=()=>{var b;t(),(b=a.afterClose)===null||b===void 0||b.call(a)},m=(...b)=>{var P;if(i(!1),b.some(h=>h==null?void 0:h.triggerCancel)){var j;(P=a.onCancel)===null||P===void 0||(j=P).call.apply(j,[a,()=>{}].concat(I(b.slice(1))))}};l.useImperativeHandle(n,()=>({destroy:m,update:b=>{u(P=>Object.assign(Object.assign({},P),b))}}));const x=(s=a.okCancel)!==null&&s!==void 0?s:a.type==="confirm",[g]=z("Modal",Ue.Modal);return l.createElement(me,Object.assign({prefixCls:v,rootPrefixCls:C},a,{close:m,open:d,afterClose:p,okText:a.okText||(x?g==null?void 0:g.okText:g==null?void 0:g.justOkText),direction:a.direction||r,cancelText:a.cancelText||(g==null?void 0:g.cancelText)},c))},Ot=l.forwardRef(yt);let ee=0;const Pt=l.memo(l.forwardRef((e,n)=>{const[s,t]=it();return l.useImperativeHandle(n,()=>({patchElement:t}),[]),l.createElement(l.Fragment,null,s)}));function ht(){const e=l.useRef(null),[n,s]=l.useState([]);l.useEffect(()=>{n.length&&(I(n).forEach(d=>{d()}),s([]))},[n]);const t=l.useCallback(c=>function(i){var a;ee+=1;const u=l.createRef();let r;const f=new Promise(x=>{r=x});let v=!1,C;const p=l.createElement(Ot,{key:`modal-${ee}`,config:c(i),ref:u,afterClose:()=>{C==null||C()},isSilent:()=>v,onConfirm:x=>{r(x)}});return C=(a=e.current)===null||a===void 0?void 0:a.patchElement(p),C&&S.push(C),{destroy:()=>{function x(){var g;(g=u.current)===null||g===void 0||g.destroy()}u.current?x():s(g=>[].concat(I(g),[x]))},update:x=>{function g(){var b;(b=u.current)===null||b===void 0||b.update(x)}u.current?g():s(b=>[].concat(I(b),[g]))},then:x=>(v=!0,f.then(x))}},[]);return[l.useMemo(()=>({info:t(be),success:t(pe),error:t(xe),warning:t(ve),confirm:t(ye)}),[]),l.createElement(Pt,{key:"modal-holder",ref:e})]}var $t=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const Et=e=>{const{prefixCls:n,className:s,closeIcon:t,closable:o,type:c,title:d,children:i,footer:a}=e,u=$t(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:r}=l.useContext(_),f=r(),v=n||r("modal"),C=oe(f),[p,m,x]=ae(v,C),g=`${v}-confirm`;let b={};return c?b={closable:o??!1,title:"",footer:"",children:l.createElement(fe,Object.assign({},e,{prefixCls:v,confirmPrefixCls:g,rootPrefixCls:f,content:i}))}:b={closable:o??!0,title:d,footer:a!==null&&l.createElement(ue,Object.assign({},e)),children:i},p(l.createElement(rt,Object.assign({prefixCls:v,className:w(m,`${v}-pure-panel`,c&&g,c&&`${g}-${c}`,s,x,C)},u,{closeIcon:ie(v,t),closable:o},b)))},jt=Ye(Et);function Oe(e){return M(ve(e))}const E=de;E.useModal=ht;E.info=function(n){return M(be(n))};E.success=function(n){return M(pe(n))};E.error=function(n){return M(xe(n))};E.warning=Oe;E.warn=Oe;E.confirm=function(n){return M(ye(n))};E.destroyAll=function(){for(;S.length;){const n=S.pop();n&&n()}};E.config=pt;E._InternalPanelDoNotUseOrYouWillBeFired=jt;export{E as M};
